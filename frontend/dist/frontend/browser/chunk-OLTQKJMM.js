import{a as i}from"./chunk-JIQYLXCT.js";import{B as m,fb as a,gb as p,l as s,n as o,r as l,y as u}from"./chunk-MV26KPO3.js";var b=class r{constructor(t){this.http=t}baseUrl=`${i.baseUrl}${i.endpoints.usuarios}`;getAll(){return this.http.get(this.baseUrl)}getById(t){return this.http.get(`${this.baseUrl}/${t}`)}getByEmail(t){let e=new a().set("email",t);return this.http.get(`${this.baseUrl}/filter/email`,{params:e})}getByStreamUserId(t){let e=new a().set("streamUserId",t);return this.http.get(`${this.baseUrl}/filter/stream-user-id`,{params:e})}create(t){return this.http.post(this.baseUrl,t)}update(t,e){return this.http.put(`${this.baseUrl}/${t}`,e)}delete(t){return this.http.delete(`${this.baseUrl}/${t}`)}async emailExists(t){try{return await o(this.getByEmail(t).pipe(l(n=>n.status===404?s(null):(console.warn("N\xE3o foi poss\xEDvel verificar se o email existe. Continuando com o cadastro...",n.status),s(null)))))!==null}catch(e){return console.warn("Erro inesperado ao verificar email:",e),!1}}static \u0275fac=function(e){return new(e||r)(m(p))};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})};export{b as a};
