import{a as I}from"./chunk-OLTQKJMM.js";import{a as E,b as R,c as T,d as z,e as D,f as V,g as W,m as L,n as N,o as q,q as F}from"./chunk-WAF6PPOG.js";import"./chunk-JIQYLXCT.js";import{Da as y,Ea as r,Fa as b,Ga as w,Ja as d,K as f,Ka as c,La as p,Q as s,X as C,Y as x,cb as v,da as P,ea as _,fa as M,ka as g,la as e,lb as k,ma as t,mb as S,na as h,va as u,xa as O}from"./chunk-MV26KPO3.js";function U(l,a){if(l&1&&(e(0,"div",11)(1,"span",7),r(2,"check_circle"),t(),e(3,"p"),r(4),t()()),l&2){let i=O();s(4),b(i.successMessage())}}function j(l,a){if(l&1&&(e(0,"div",12)(1,"span",7),r(2,"error"),t(),e(3,"p"),r(4),t()()),l&2){let i=O();s(4),b(i.errorMessage())}}function A(l,a){l&1&&(h(0,"span",38),e(1,"span"),r(2,"Criando conta..."),t())}function Y(l,a){l&1&&(e(0,"span",7),r(1,"person_add"),t(),e(2,"span"),r(3,"Criar Conta"),t())}var B=class l{constructor(a,i){this.router=a;this.usuarioService=i}name="";email="";phone="";password="";confirmPassword="";acceptTerms=!1;loading=f(!1);showPassword=f(!1);showConfirmPassword=f(!1);errorMessage=f("");successMessage=f("");async onSubmit(){if(this.errorMessage.set(""),this.successMessage.set(""),!this.name||!this.email||!this.password||!this.confirmPassword){this.errorMessage.set("Por favor, preencha todos os campos obrigat\xF3rios.");return}if(!this.isValidEmail(this.email)){this.errorMessage.set("Por favor, insira um e-mail v\xE1lido.");return}if(this.password.length<6){this.errorMessage.set("A senha deve ter no m\xEDnimo 6 caracteres.");return}if(this.password!==this.confirmPassword){this.errorMessage.set("As senhas n\xE3o coincidem.");return}if(!this.acceptTerms){this.errorMessage.set("Voc\xEA precisa aceitar os termos de uso.");return}if(this.phone&&!this.isValidPhone(this.phone)){this.errorMessage.set("Por favor, insira um telefone v\xE1lido.");return}if(!this.name||!this.name.trim()){this.errorMessage.set("Por favor, preencha o nome completo.");return}this.loading.set(!0);let a={nome:this.name.trim(),email:this.email.trim(),senha:this.password,telefone:this.phone.trim()||void 0};this.usuarioService.create(a).subscribe({next:i=>{this.loading.set(!1),this.successMessage.set("Conta criada com sucesso! Redirecionando para login..."),this.name="",this.email="",this.phone="",this.password="",this.confirmPassword="",this.acceptTerms=!1,setTimeout(()=>{this.router.navigate(["/login"],{queryParams:{registered:"true"}})},1e3)},error:i=>{this.loading.set(!1),console.error("Erro ao criar usu\xE1rio:",i),i.status===400?this.errorMessage.set("Dados inv\xE1lidos. Verifique os campos e tente novamente."):i.status===409||i.status===422?this.errorMessage.set("Este e-mail j\xE1 est\xE1 cadastrado. Tente fazer login ou use outro e-mail."):i.status===0||i.status>=500?this.errorMessage.set("Erro no servidor. Tente novamente mais tarde."):i.status===404?this.errorMessage.set("Servi\xE7o n\xE3o encontrado. Verifique sua conex\xE3o."):this.errorMessage.set("Erro ao criar conta. Tente novamente.")}})}isValidEmail(a){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)}isValidPhone(a){let i=a.replace(/\D/g,"");return i.length>=10&&i.length<=11}togglePasswordVisibility(){this.showPassword.set(!this.showPassword())}toggleConfirmPasswordVisibility(){this.showConfirmPassword.set(!this.showConfirmPassword())}formatPhone(){let a=this.phone.replace(/\D/g,"");a.length<=11&&(a.length<=10?a=a.replace(/^(\d{2})(\d{4})(\d{4}).*/,"($1) $2-$3"):a=a.replace(/^(\d{2})(\d{5})(\d{4}).*/,"($1) $2-$3"),this.phone=a)}static \u0275fac=function(i){return new(i||l)(C(k),C(I))};static \u0275cmp=x({type:l,selectors:[["app-register"]],decls:104,vars:26,consts:[[1,"register-container"],[1,"register-left"],[1,"branding"],["src","/images/Logo-login.svg","alt","Jenisson Luckw\xFC Im\xF3veis",1,"logo"],[1,"welcome-text"],[1,"features"],[1,"feature-item"],[1,"material-icons"],[1,"register-right"],[1,"register-form-wrapper"],[1,"form-header"],["role","alert",1,"alert","alert-success"],["role","alert",1,"alert","alert-error"],[1,"register-form",3,"ngSubmit"],[1,"form-group"],["for","name"],["type","text","id","name","name","name","placeholder","Seu nome completo","autocomplete","name","required","",3,"ngModelChange","ngModel","disabled"],[1,"form-row"],["for","email"],["type","email","id","email","name","email","placeholder","seu@email.com","autocomplete","email","required","",3,"ngModelChange","ngModel","disabled"],["for","phone"],["type","tel","id","phone","name","phone","placeholder","(00) 00000-0000","autocomplete","tel","maxlength","15",3,"ngModelChange","input","ngModel","disabled"],["for","password"],[1,"password-wrapper"],["id","password","name","password","placeholder","M\xEDnimo 6 caracteres","autocomplete","new-password","required","",3,"ngModelChange","type","ngModel","disabled"],["type","button",1,"toggle-password",3,"click","title"],[1,"field-hint"],["for","confirmPassword"],["id","confirmPassword","name","confirmPassword","placeholder","Digite a senha novamente","autocomplete","new-password","required","",3,"ngModelChange","type","ngModel","disabled"],[1,"checkbox-label"],["type","checkbox","name","acceptTerms","required","",3,"ngModelChange","ngModel","disabled"],["routerLink","/terms","target","_blank",1,"link-terms"],["routerLink","/privacy","target","_blank",1,"link-terms"],["type","submit",1,"btn-register",3,"disabled"],[1,"form-footer"],[1,"login-link"],["routerLink","/login",1,"link-primary"],["routerLink","/",1,"back-link"],[1,"spinner"]],template:function(i,n){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),h(3,"img",3),e(4,"div",4)(5,"h2"),r(6,"Junte-se a n\xF3s!"),t(),e(7,"p"),r(8,"Crie sua conta e tenha acesso exclusivo aos melhores im\xF3veis"),t()(),e(9,"div",5)(10,"div",6)(11,"span",7),r(12,"search"),t(),e(13,"p"),r(14,"Busque entre diversos im\xF3veis"),t()(),e(15,"div",6)(16,"span",7),r(17,"favorite"),t(),e(18,"p"),r(19,"Salve seus im\xF3veis favoritos"),t()(),e(20,"div",6)(21,"span",7),r(22,"notifications_active"),t(),e(23,"p"),r(24,"Receba alertas de novidades"),t()(),e(25,"div",6)(26,"span",7),r(27,"support_agent"),t(),e(28,"p"),r(29,"Atendimento especializado"),t()()()()(),e(30,"div",8)(31,"div",9)(32,"div",10)(33,"h2"),r(34,"Criar Conta"),t(),e(35,"p"),r(36,"Preencha seus dados para come\xE7ar"),t()(),_(37,U,5,1,"div",11),_(38,j,5,1,"div",12),e(39,"form",13),u("ngSubmit",function(){return n.onSubmit()}),e(40,"div",14)(41,"label",15)(42,"span",7),r(43,"person"),t(),r(44," Nome Completo * "),t(),e(45,"input",16),p("ngModelChange",function(o){return c(n.name,o)||(n.name=o),o}),t()(),e(46,"div",17)(47,"div",14)(48,"label",18)(49,"span",7),r(50,"email"),t(),r(51," E-mail * "),t(),e(52,"input",19),p("ngModelChange",function(o){return c(n.email,o)||(n.email=o),o}),t()(),e(53,"div",14)(54,"label",20)(55,"span",7),r(56,"phone"),t(),r(57," Telefone "),t(),e(58,"input",21),p("ngModelChange",function(o){return c(n.phone,o)||(n.phone=o),o}),u("input",function(){return n.formatPhone()}),t()()(),e(59,"div",14)(60,"label",22)(61,"span",7),r(62,"lock"),t(),r(63," Senha * "),t(),e(64,"div",23)(65,"input",24),p("ngModelChange",function(o){return c(n.password,o)||(n.password=o),o}),t(),e(66,"button",25),u("click",function(){return n.togglePasswordVisibility()}),e(67,"span",7),r(68),t()()(),e(69,"small",26),r(70,"Use no m\xEDnimo 6 caracteres"),t()(),e(71,"div",14)(72,"label",27)(73,"span",7),r(74,"lock_outline"),t(),r(75," Confirmar Senha * "),t(),e(76,"div",23)(77,"input",28),p("ngModelChange",function(o){return c(n.confirmPassword,o)||(n.confirmPassword=o),o}),t(),e(78,"button",25),u("click",function(){return n.toggleConfirmPasswordVisibility()}),e(79,"span",7),r(80),t()()()(),e(81,"div",14)(82,"label",29)(83,"input",30),p("ngModelChange",function(o){return c(n.acceptTerms,o)||(n.acceptTerms=o),o}),t(),e(84,"span"),r(85," Eu aceito os "),e(86,"a",31),r(87,"Termos de Uso"),t(),r(88," e a "),e(89,"a",32),r(90,"Pol\xEDtica de Privacidade"),t()()()(),e(91,"button",33),_(92,A,3,0)(93,Y,4,0),t()(),e(94,"div",34)(95,"p",35),r(96," J\xE1 tem uma conta? "),e(97,"a",36),r(98,"Fazer login"),t()(),e(99,"p")(100,"a",37)(101,"span",7),r(102,"arrow_back"),t(),r(103," Voltar para o site "),t()()()()()()),i&2&&(s(37),M(n.successMessage()?37:-1),s(),M(n.errorMessage()?38:-1),s(7),d("ngModel",n.name),g("disabled",n.loading()),s(7),d("ngModel",n.email),g("disabled",n.loading()),s(6),d("ngModel",n.phone),g("disabled",n.loading()),s(7),g("type",n.showPassword()?"text":"password"),d("ngModel",n.password),g("disabled",n.loading()),s(),g("title",n.showPassword()?"Ocultar senha":"Mostrar senha"),P("aria-label",n.showPassword()?"Ocultar senha":"Mostrar senha"),s(2),w(" ",n.showPassword()?"visibility_off":"visibility"," "),s(9),g("type",n.showConfirmPassword()?"text":"password"),d("ngModel",n.confirmPassword),g("disabled",n.loading()),s(),g("title",n.showConfirmPassword()?"Ocultar senha":"Mostrar senha"),P("aria-label",n.showConfirmPassword()?"Ocultar senha":"Mostrar senha"),s(2),w(" ",n.showConfirmPassword()?"visibility_off":"visibility"," "),s(3),d("ngModel",n.acceptTerms),g("disabled",n.loading()),s(8),y("loading",n.loading()),g("disabled",n.loading()),s(),M(n.loading()?92:93))},dependencies:[v,F,W,R,E,T,z,L,q,N,V,D,S],styles:['.register-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;min-height:100vh;background:#f8f9fa}@media (max-width: 768px){.register-container[_ngcontent-%COMP%]{grid-template-columns:1fr}}.register-left[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2c3e50,#3498db);color:#fff;display:flex;align-items:center;justify-content:center;padding:4rem 3rem;position:relative;overflow:hidden}@media (max-width: 768px){.register-left[_ngcontent-%COMP%]{display:none}}.register-left[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-50%;width:100%;height:100%;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}.register-left[_ngcontent-%COMP%]   .branding[_ngcontent-%COMP%]{position:relative;z-index:1;text-align:center}.register-left[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:340px;height:140px;margin-bottom:2rem;filter:brightness(0) invert(1)}.register-left[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]{margin-bottom:3rem}.register-left[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;margin-bottom:1rem}.register-left[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem;opacity:.95;line-height:1.6}.register-left[_ngcontent-%COMP%]   .features[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:4rem;gap:1.5rem}.register-left[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;background:#ffffff1a;border-radius:8px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s ease}.register-left[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]:hover{background:#ffffff26;transform:translate(10px)}.register-left[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:28px}.register-left[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translate(0) rotate(0)}50%{transform:translate(30px,30px) rotate(10deg)}}.register-right[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:3rem;background:#fff;overflow-y:auto}@media (max-width: 576px){.register-right[_ngcontent-%COMP%]{padding:2rem 1.5rem}}.register-form-wrapper[_ngcontent-%COMP%]{width:100%;max-width:550px;padding:2rem 0}.form-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#2c3e50;margin-bottom:.5rem}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem;color:#999}.alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1.5rem;border-radius:8px;margin-bottom:1.5rem;animation:_ngcontent-%COMP%_slideDown .3s ease-out}.alert[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px}.alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;flex:1}.alert.alert-error[_ngcontent-%COMP%]{background:#e74c3c1a;border:1px solid #e74c3c;color:#e74c3c}.alert.alert-success[_ngcontent-%COMP%]{background:#27ae601a;border:1px solid #27ae60;color:#27ae60}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:600;color:#333;margin-bottom:.25rem}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px;color:#3498db}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%], .register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%]{width:100%;padding:1rem 1.5rem;font-size:1rem;border:2px solid #e0e0e0;border-radius:8px;transition:all .3s ease;background:#fff}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, .register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus, .register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 3px #3498db1a}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:disabled, .register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:disabled, .register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:disabled, .register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%]:disabled{background:#f8f9fa;cursor:not-allowed;opacity:.6}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]::placeholder, .register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]::placeholder, .register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder, .register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%]::placeholder{color:#999}.register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .field-hint[_ngcontent-%COMP%]{display:block;margin-top:.25rem;font-size:.75rem;color:#999}.register-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}@media (max-width: 576px){.register-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.register-form[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]{position:relative}.register-form[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:50px}.register-form[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]{position:absolute;right:0;top:0;height:100%;padding:0 1rem;background:transparent;border:none;cursor:pointer;color:#999;transition:all .3s ease}.register-form[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{color:#3498db}.register-form[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:22px}.register-form[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.5rem;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.register-form[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;margin-top:2px;cursor:pointer;accent-color:#3498db;flex-shrink:0}.register-form[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;color:#333;line-height:1.5}.register-form[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   .link-terms[_ngcontent-%COMP%]{color:#3498db;font-weight:600;text-decoration:none}.register-form[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   .link-terms[_ngcontent-%COMP%]:hover{text-decoration:underline}.register-form[_ngcontent-%COMP%]   .btn-register[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:.5rem;padding:1.5rem;margin-top:2rem;font-size:1.125rem;font-weight:600;color:#fff;background:linear-gradient(135deg,#3498db,#2c3e50);border:none;border-radius:8px;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 12px #3498db4d}.register-form[_ngcontent-%COMP%]   .btn-register[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 16px #3498db66}.register-form[_ngcontent-%COMP%]   .btn-register[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.register-form[_ngcontent-%COMP%]   .btn-register[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.register-form[_ngcontent-%COMP%]   .btn-register.loading[_ngcontent-%COMP%]{position:relative}.register-form[_ngcontent-%COMP%]   .btn-register.loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.register-form[_ngcontent-%COMP%]   .btn-register[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.form-footer[_ngcontent-%COMP%]{margin-top:2rem;text-align:center}.form-footer[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]{font-size:.875rem;color:#999;margin-bottom:1.5rem}.form-footer[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]   .link-primary[_ngcontent-%COMP%]{color:#3498db;font-weight:600;text-decoration:none;margin-left:.25rem;transition:all .3s ease}.form-footer[_ngcontent-%COMP%]   .login-link[_ngcontent-%COMP%]   .link-primary[_ngcontent-%COMP%]:hover{text-decoration:underline;color:#2c3e50}.form-footer[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.25rem;color:#999;text-decoration:none;font-size:.875rem;font-weight:500;transition:all .3s ease}.form-footer[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]:hover{color:#3498db;gap:.5rem}.form-footer[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]:hover   .material-icons[_ngcontent-%COMP%]{transform:translate(-4px)}.form-footer[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px;transition:all .3s ease}']})};export{B as Register};
