import{a as L}from"./chunk-PTGZVO3N.js";import{a as z,b as A,c as R,d as T,e as N,f as W,g as V,m as D,q}from"./chunk-WAF6PPOG.js";import"./chunk-JIQYLXCT.js";import{Da as w,Ea as o,Fa as x,Ga as v,Ja as p,K as c,Ka as f,La as u,Q as a,X as d,Y as O,cb as y,da as h,ea as _,fa as M,jb as k,ka as g,la as e,lb as S,ma as n,mb as E,na as C,va as P,xa as b}from"./chunk-MV26KPO3.js";function F(l,t){if(l&1&&(e(0,"div",11)(1,"span",7),o(2,"error"),n(),e(3,"p"),o(4),n()()),l&2){let s=b();a(4),x(s.errorMessage())}}function I(l,t){l&1&&(C(0,"span",29),e(1,"span"),o(2,"Entrando..."),n())}function j(l,t){l&1&&(e(0,"span",7),o(1,"login"),n(),e(2,"span"),o(3,"Entrar"),n())}var U=class l{constructor(t,s,i){this.router=t;this.route=s;this.authService=i;this.authService.isLoggedIn()&&this.router.navigate(["/"])}email="";password="";rememberMe=!1;loginType=c("auto");loading=c(!1);showPassword=c(!1);errorMessage=c("");onSubmit(){if(this.errorMessage.set(""),!this.email||!this.password){this.errorMessage.set("Por favor, preencha todos os campos.");return}if(!this.isValidEmail(this.email)){this.errorMessage.set("Por favor, insira um e-mail v\xE1lido.");return}this.loading.set(!0);let t=this.loginType();t==="admin"?this.loginAsAdmin():t==="usuario"?this.loginAsUsuario():this.loginAuto()}loginAuto(){this.authService.login(this.email,this.password).subscribe({next:()=>{this.loading.set(!1);let t=this.route.snapshot.queryParams.returnUrl;t?this.router.navigate([t]):this.router.navigate(["/"])},error:t=>{this.handleLoginError(t)}})}loginAsAdmin(){this.authService.loginAdmin(this.email,this.password).subscribe({next:()=>{this.loading.set(!1);let t=this.route.snapshot.queryParams.returnUrl;t?this.router.navigate([t]):this.router.navigate(["/"])},error:t=>{this.handleLoginError(t)}})}loginAsUsuario(){this.authService.loginUsuario(this.email,this.password).subscribe({next:()=>{this.loading.set(!1);let t=this.route.snapshot.queryParams.returnUrl;t?this.router.navigate([t]):this.router.navigate(["/"])},error:t=>{this.handleLoginError(t)}})}handleLoginError(t){this.loading.set(!1),t.status===401?(this.authService.logoutWithoutRedirect(),this.errorMessage.set("E-mail ou senha inv\xE1lidos. Verifique suas credenciais.")):t.status===0?(this.authService.logoutWithoutRedirect(),this.errorMessage.set("Erro de conex\xE3o. Verifique se o servidor est\xE1 rodando.")):(this.authService.logoutWithoutRedirect(),this.errorMessage.set("Erro ao fazer login. Tente novamente mais tarde."))}isValidEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}togglePasswordVisibility(){this.showPassword.set(!this.showPassword())}static \u0275fac=function(s){return new(s||l)(d(S),d(k),d(L))};static \u0275cmp=O({type:l,selectors:[["app-login"]],decls:66,vars:15,consts:[[1,"login-container"],[1,"login-left"],[1,"branding"],[1,"logo-section"],["src","/images/Logo-login.svg","alt","Jenisson Luckw\xFC Im\xF3veis",1,"logo"],[1,"features"],[1,"feature-item"],[1,"material-icons"],[1,"login-right"],[1,"login-form-wrapper"],[1,"form-header"],["role","alert",1,"alert","alert-error"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","placeholder","seu@email.com","autocomplete","email","required","",3,"ngModelChange","ngModel","disabled"],["for","password"],[1,"password-wrapper"],["id","password","name","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","autocomplete","current-password","required","",3,"ngModelChange","type","ngModel","disabled"],["type","button",1,"toggle-password",3,"click","title"],[1,"form-options"],[1,"checkbox-label"],["type","checkbox","name","rememberMe",3,"ngModelChange","ngModel","disabled"],["routerLink","/forgot-password",1,"forgot-password"],["type","submit",1,"btn-login",3,"disabled"],[1,"form-footer"],[1,"register-link"],["routerLink","/register",1,"link-primary"],["routerLink","/",1,"back-link"],[1,"spinner"]],template:function(s,i){s&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),C(4,"img",4),n(),e(5,"div",5)(6,"div",6)(7,"span",7),o(8,"favorite"),n(),e(9,"p"),o(10,"Salve seus im\xF3veis favoritos"),n()(),e(11,"div",6)(12,"span",7),o(13,"notifications"),n(),e(14,"p"),o(15,"Receba notifica\xE7\xF5es de novidades"),n()(),e(16,"div",6)(17,"span",7),o(18,"chat"),n(),e(19,"p"),o(20,"Fale diretamente com o corretor"),n()()()()(),e(21,"div",8)(22,"div",9)(23,"div",10)(24,"h2"),o(25,"\xC1rea do Cliente"),n(),e(26,"p"),o(27,"Entre com suas credenciais para acessar sua conta"),n()(),_(28,F,5,1,"div",11),e(29,"form",12),P("ngSubmit",function(){return i.onSubmit()}),e(30,"div",13)(31,"label",14)(32,"span",7),o(33,"email"),n(),o(34," E-mail "),n(),e(35,"input",15),u("ngModelChange",function(r){return f(i.email,r)||(i.email=r),r}),n()(),e(36,"div",13)(37,"label",16)(38,"span",7),o(39,"lock"),n(),o(40," Senha "),n(),e(41,"div",17)(42,"input",18),u("ngModelChange",function(r){return f(i.password,r)||(i.password=r),r}),n(),e(43,"button",19),P("click",function(){return i.togglePasswordVisibility()}),e(44,"span",7),o(45),n()()()(),e(46,"div",20)(47,"label",21)(48,"input",22),u("ngModelChange",function(r){return f(i.rememberMe,r)||(i.rememberMe=r),r}),n(),e(49,"span"),o(50,"Lembrar-me"),n()(),e(51,"a",23),o(52,"Esqueci a senha"),n()(),e(53,"button",24),_(54,I,3,0)(55,j,4,0),n()(),e(56,"div",25)(57,"p",26),o(58," Ainda n\xE3o tem uma conta? "),e(59,"a",27),o(60,"Criar conta"),n()(),e(61,"p")(62,"a",28)(63,"span",7),o(64,"arrow_back"),n(),o(65," Voltar para o site "),n()()()()()()),s&2&&(a(28),M(i.errorMessage()?28:-1),a(7),p("ngModel",i.email),g("disabled",i.loading()),a(7),g("type",i.showPassword()?"text":"password"),p("ngModel",i.password),g("disabled",i.loading()),a(),g("title",i.showPassword()?"Ocultar senha":"Mostrar senha"),h("aria-label",i.showPassword()?"Ocultar senha":"Mostrar senha"),a(2),v(" ",i.showPassword()?"visibility_off":"visibility"," "),a(3),p("ngModel",i.rememberMe),g("disabled",i.loading()),a(5),w("loading",i.loading()),g("disabled",i.loading()),a(),M(i.loading()?54:55))},dependencies:[y,q,V,A,z,R,T,D,W,N,E],styles:['.login-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;min-height:100vh;background:#f8f9fa}@media (max-width: 768px){.login-container[_ngcontent-%COMP%]{grid-template-columns:1fr}}.login-left[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2c3e50,#3498db);color:#fff;display:flex;align-items:center;justify-content:center;padding:4rem 3rem;position:relative;overflow:hidden}@media (max-width: 768px){.login-left[_ngcontent-%COMP%]{display:none}}.login-left[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-50%;width:100%;height:100%;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}.login-left[_ngcontent-%COMP%]   .branding[_ngcontent-%COMP%]{position:relative;z-index:1;text-align:center;max-width:500px}.login-left[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]{margin-bottom:4rem}.login-left[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{max-width:100%;max-height:100%;margin-bottom:1.5rem;filter:brightness(0) invert(1)}.login-left[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:700;margin-bottom:.5rem}.login-left[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]{font-size:1.125rem;opacity:.9}.login-left[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]{margin-bottom:4rem}.login-left[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:600;margin-bottom:1rem}.login-left[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem;opacity:.9}.login-left[_ngcontent-%COMP%]   .features[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:4rem;gap:1.5rem}.login-left[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;background:#ffffff1a;border-radius:8px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s ease}.login-left[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]:hover{background:#ffffff26;transform:translate(10px)}.login-left[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:28px}.login-left[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translate(0) rotate(0)}50%{transform:translate(30px,30px) rotate(10deg)}}.login-right[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:3rem;background:#fff}@media (max-width: 576px){.login-right[_ngcontent-%COMP%]{padding:2rem 1.5rem}}.login-form-wrapper[_ngcontent-%COMP%]{width:100%;max-width:450px}.form-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:3rem}.form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#2c3e50;margin-bottom:.5rem}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem;color:#999}.alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1.5rem;border-radius:8px;margin-bottom:2rem;animation:_ngcontent-%COMP%_slideDown .3s ease-out}.alert[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px}.alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;flex:1}.alert.alert-error[_ngcontent-%COMP%]{background:#e74c3c1a;border:1px solid #e74c3c;color:#e74c3c}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:2rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1rem;font-weight:600;color:#333;margin-bottom:.5rem}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px;color:#3498db}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:1rem 1.5rem;font-size:1rem;border:2px solid #e0e0e0;border-radius:8px;transition:all .3s ease;background:#fff}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus, .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 3px #3498db1a}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:disabled, .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:disabled, .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:disabled{background:#f8f9fa;cursor:not-allowed;opacity:.6}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]::placeholder, .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]::placeholder, .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{color:#999}.login-form[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]{position:relative}.login-form[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:50px}.login-form[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]{position:absolute;right:0;top:0;height:100%;padding:0 1rem;background:transparent;border:none;cursor:pointer;color:#999;transition:all .3s ease}.login-form[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{color:#3498db}.login-form[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:22px}.login-form[_ngcontent-%COMP%]   .form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;font-size:.875rem}@media (max-width: 576px){.login-form[_ngcontent-%COMP%]   .form-options[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start}}.login-form[_ngcontent-%COMP%]   .form-options[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.login-form[_ngcontent-%COMP%]   .form-options[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer;accent-color:#3498db}.login-form[_ngcontent-%COMP%]   .form-options[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#333}.login-form[_ngcontent-%COMP%]   .form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{color:#3498db;text-decoration:none;font-weight:500;transition:all .3s ease}.login-form[_ngcontent-%COMP%]   .form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]:hover{text-decoration:underline;color:#2c3e50}.login-form[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:.5rem;padding:1.5rem;font-size:1.125rem;font-weight:600;color:#fff;background:linear-gradient(135deg,#3498db,#2c3e50);border:none;border-radius:8px;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 12px #3498db4d}.login-form[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 16px #3498db66}.login-form[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.login-form[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.login-form[_ngcontent-%COMP%]   .btn-login.loading[_ngcontent-%COMP%]{position:relative}.login-form[_ngcontent-%COMP%]   .btn-login.loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.login-form[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.form-footer[_ngcontent-%COMP%]{margin-top:3rem;text-align:center}.form-footer[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]{font-size:.875rem;color:#999;margin-bottom:1.5rem}.form-footer[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]   .link-primary[_ngcontent-%COMP%]{color:#3498db;font-weight:600;text-decoration:none;margin-left:.25rem;transition:all .3s ease}.form-footer[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]   .link-primary[_ngcontent-%COMP%]:hover{text-decoration:underline;color:#2c3e50}.form-footer[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.25rem;color:#999;text-decoration:none;font-size:.875rem;font-weight:500;transition:all .3s ease}.form-footer[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]:hover{color:#3498db;gap:.5rem}.form-footer[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]:hover   .material-icons[_ngcontent-%COMP%]{transform:translate(-4px)}.form-footer[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px;transition:all .3s ease}']})};export{U as Login};
