import{b as U,c as he}from"./chunk-HZHU2SEE.js";import{a as Pe}from"./chunk-NTZKGEZD.js";import{a as re}from"./chunk-PTGZVO3N.js";import{a as se,b as me,c as le,d as ce,e as de,f as ge,g as pe,h as _e,i as fe,j as ue,k as Ce,l as ve,m as Me,q as be}from"./chunk-WAF6PPOG.js";import{a as R}from"./chunk-JIQYLXCT.js";import{$a as ne,Aa as ee,B as J,D as g,Da as j,E as p,Ea as r,Fa as h,Ga as D,Ia as te,Ja as f,K as M,Ka as u,La as C,P as k,Q as m,Wa as q,X as E,Y as Q,aa as F,cb as ie,da as K,ea as P,fa as x,ga as B,gb as oe,h as H,ia as A,ja as V,ka as d,l as W,la as o,lb as ae,ma as i,na as w,o as N,p as $,r as Y,t as T,ta as S,u as L,va as b,xa as c,y as G,ya as X,za as Z}from"./chunk-MV26KPO3.js";var z=class l{constructor(n){this.http=n}baseUrl=`${R.baseUrl}${R.endpoints.imagens}`;getAll(){return this.http.get(this.baseUrl)}getById(n){return this.http.get(`${this.baseUrl}/${n}`)}getByImovelId(n){return this.http.get(`${this.baseUrl}/filter/imovel/${n}`)}create(n){return this.http.post(this.baseUrl,n)}update(n,e){return this.http.put(`${this.baseUrl}/${n}`,e)}delete(n){return this.http.delete(`${this.baseUrl}/${n}`,{responseType:"text"})}deleteByImovelId(n){return this.http.delete(`${this.baseUrl}/imovel/${n}`,{responseType:"text"})}upload(n,e){let a=new FormData;return a.append("arquivo",e),this.http.post(`${this.baseUrl}/${n}/upload`,a)}uploadMultiple(n,e){let a=e.map(t=>this.upload(n,t));return new H(t=>{let s=[],v=0,_=!1;a.forEach((I,y)=>{I.subscribe({next:O=>{s[y]=O,v++,v===e.length&&!_&&(t.next(s),t.complete())},error:O=>{_||(_=!0,t.error(O))}})})})}static \u0275fac=function(e){return new(e||l)(J(oe))};static \u0275prov=G({token:l,factory:l.\u0275fac,providedIn:"root"})};var we=["fileInput"],ye=(l,n)=>n.id;function Ee(l,n){if(l&1&&(o(0,"div",6)(1,"span",5),r(2,"check_circle"),i(),o(3,"p"),r(4),i()()),l&2){let e=c();m(4),h(e.successMessage())}}function Se(l,n){if(l&1&&(o(0,"div",7)(1,"span",5),r(2,"error"),i(),o(3,"p"),r(4),i()()),l&2){let e=c();m(4),h(e.errorMessage())}}function De(l,n){if(l&1&&w(0,"option",67),l&2){let e=n.$implicit;d("value",e)}}function Te(l,n){if(l&1&&(o(0,"option",67),r(1),i()),l&2){let e=n.$implicit;d("value",e),m(),h(e)}}function ke(l,n){if(l&1){let e=S();o(0,"button",72),b("click",function(){g(e);let t=c().$index,s=c(3);return p(s.deletarImagem(s.editingImovel().id,s.getImagemId(t),t))}),o(1,"span",5),r(2,"close"),i()()}if(l&2){let e=c(4);d("disabled",e.loading())}}function Fe(l,n){if(l&1&&(o(0,"div",69),w(1,"img",70),P(2,ke,3,1,"button",71),i()),l&2){let e=n.$implicit,a=n.$index,t=c(3);m(),d("src",e,k)("alt","Imagem existente "+(a+1)),m(),x(t.podeDeletarImagem(a)?2:-1)}}function Ae(l,n){if(l&1&&(o(0,"div",63)(1,"h4"),r(2,"Imagens Existentes"),i(),o(3,"div",68),A(4,Fe,3,3,"div",69,B),i()()),l&2){let e=c(2);m(4),V(e.imagensExistentes())}}function Ve(l,n){if(l&1){let e=S();o(0,"div",69),w(1,"img",73),o(2,"button",72),b("click",function(){let t=g(e).$index,s=c(3);return p(s.removerImagemPreview(t))}),o(3,"span",5),r(4,"close"),i()()()}if(l&2){let e=n.$implicit,a=n.$index,t=c(3);m(),d("src",e,k)("alt","Preview imagem "+(a+1)),m(),d("disabled",t.loading()||t.uploadingImages())}}function ze(l,n){if(l&1&&(o(0,"div",63)(1,"h4"),r(2,"Novas Imagens (Preview)"),i(),o(3,"div",68),A(4,Ve,5,3,"div",69,B),i()()),l&2){let e=c(2);m(4),V(e.imagensPreview())}}function We(l,n){l&1&&(w(0,"span",74),o(1,"span"),r(2,"Salvando..."),i())}function Ne(l,n){if(l&1&&(o(0,"span",5),r(1,"save"),i(),o(2,"span"),r(3),i()),l&2){let e=c(2);m(3),D("",e.editingImovel()?"Atualizar":"Criar"," Im\xF3vel")}}function Le(l,n){if(l&1){let e=S();o(0,"div",8)(1,"div",18)(2,"h2"),r(3),i(),o(4,"button",19),b("click",function(){g(e);let t=c();return p(t.cancelar())}),o(5,"span",5),r(6,"close"),i()()(),o(7,"form",20),b("ngSubmit",function(){g(e);let t=c();return p(t.salvarImovel())}),o(8,"div",21)(9,"span",5),r(10,"info"),i(),r(11," Informa\xE7\xF5es B\xE1sicas "),i(),o(12,"div",22)(13,"div",23)(14,"label",24)(15,"span",5),r(16,"title"),i(),r(17," T\xEDtulo do Im\xF3vel * "),i(),o(18,"input",25),C("ngModelChange",function(t){g(e);let s=c();return u(s.formData.titulo,t)||(s.formData.titulo=t),p(t)}),i()(),o(19,"div",23)(20,"label",26)(21,"span",5),r(22,"home"),i(),r(23," Tipo * "),i(),o(24,"input",27),C("ngModelChange",function(t){g(e);let s=c();return u(s.formData.tipoImovel,t)||(s.formData.tipoImovel=t),p(t)}),i(),o(25,"datalist",28),F(26,De,1,1,"option",14),i(),o(27,"small",29),r(28,"Digite um novo tipo ou selecione um existente"),i()(),o(29,"div",30)(30,"label")(31,"span",5),r(32),i(),r(33," Visibilidade * "),i(),o(34,"div",31)(35,"label",32)(36,"input",33),C("ngModelChange",function(t){g(e);let s=c();return u(s.formData.ativo,t)||(s.formData.ativo=t),p(t)}),i(),w(37,"span",34),i(),o(38,"span",35),r(39),i()(),o(40,"small",29),r(41,"Desabilite para ocultar temporariamente este im\xF3vel no site."),i()()(),o(42,"div",21)(43,"span",5),r(44,"location_on"),i(),r(45," Localiza\xE7\xE3o "),i(),o(46,"div",22)(47,"div",23)(48,"label",36)(49,"span",5),r(50,"map"),i(),r(51," Estado * "),i(),o(52,"select",37),C("ngModelChange",function(t){g(e);let s=c();return u(s.formData.estado,t)||(s.formData.estado=t),p(t)}),F(53,Te,2,2,"option",14),i()(),o(54,"div",23)(55,"label",38)(56,"span",5),r(57,"location_city"),i(),r(58," Cidade * "),i(),o(59,"input",39),C("ngModelChange",function(t){g(e);let s=c();return u(s.formData.cidade,t)||(s.formData.cidade=t),p(t)}),i()()(),o(60,"div",22)(61,"div",23)(62,"label",40)(63,"span",5),r(64,"place"),i(),r(65," Endere\xE7o * "),i(),o(66,"input",41),C("ngModelChange",function(t){g(e);let s=c();return u(s.formData.endereco,t)||(s.formData.endereco=t),p(t)}),i()()(),o(67,"div",21)(68,"span",5),r(69,"room_preferences"),i(),r(70," Caracter\xEDsticas "),i(),o(71,"div",22)(72,"div",23)(73,"label",42)(74,"span",5),r(75,"attach_money"),i(),r(76," Pre\xE7o (R$) * "),i(),o(77,"input",43),C("ngModelChange",function(t){g(e);let s=c();return u(s.formData.preco,t)||(s.formData.preco=t),p(t)}),i()()(),o(78,"div",21)(79,"span",5),r(80,"home"),i(),r(81," C\xF4modos (Opcional) "),i(),o(82,"div",22)(83,"div",23)(84,"label",44)(85,"span",5),r(86,"living"),i(),r(87," Salas "),i(),o(88,"input",45),C("ngModelChange",function(t){g(e);let s=c();return u(s.formData.salas,t)||(s.formData.salas=t),p(t)}),i()(),o(89,"div",23)(90,"label",46)(91,"span",5),r(92,"kitchen"),i(),r(93," Cozinhas "),i(),o(94,"input",47),C("ngModelChange",function(t){g(e);let s=c();return u(s.formData.cozinhas,t)||(s.formData.cozinhas=t),p(t)}),i()(),o(95,"div",23)(96,"label",48)(97,"span",5),r(98,"bathroom"),i(),r(99," Banheiros "),i(),o(100,"input",49),C("ngModelChange",function(t){g(e);let s=c();return u(s.formData.banheiros,t)||(s.formData.banheiros=t),p(t)}),i()()(),o(101,"div",22)(102,"div",23)(103,"label",50)(104,"span",5),r(105,"bed"),i(),r(106," Su\xEDtes "),i(),o(107,"input",51),C("ngModelChange",function(t){g(e);let s=c();return u(s.formData.suites,t)||(s.formData.suites=t),p(t)}),i()(),o(108,"div",23)(109,"label",52)(110,"span",5),r(111,"wc"),i(),r(112," Lavabos "),i(),o(113,"input",53),C("ngModelChange",function(t){g(e);let s=c();return u(s.formData.lavabos,t)||(s.formData.lavabos=t),p(t)}),i()(),o(114,"div",23)(115,"label",54)(116,"span",5),r(117,"garage"),i(),r(118," Garagem Descoberta "),i(),o(119,"input",55),C("ngModelChange",function(t){g(e);let s=c();return u(s.formData.garagemDescoberta,t)||(s.formData.garagemDescoberta=t),p(t)}),i()()(),o(120,"div",22)(121,"div",23)(122,"label",56)(123,"span",5),r(124,"garage"),i(),r(125," Garagem Coberta "),i(),o(126,"input",57),C("ngModelChange",function(t){g(e);let s=c();return u(s.formData.garagemCoberta,t)||(s.formData.garagemCoberta=t),p(t)}),i()()(),o(127,"div",21)(128,"span",5),r(129,"description"),i(),r(130," Descri\xE7\xE3o "),i(),o(131,"div",23)(132,"label",58)(133,"span",5),r(134,"text_fields"),i(),r(135," Descri\xE7\xE3o do Im\xF3vel * "),i(),o(136,"textarea",59),C("ngModelChange",function(t){g(e);let s=c();return u(s.formData.descricao,t)||(s.formData.descricao=t),p(t)}),i()(),o(137,"div",21)(138,"span",5),r(139,"image"),i(),r(140," Imagens do Im\xF3vel "),i(),o(141,"div",23)(142,"label",60)(143,"span",5),r(144,"photo_library"),i(),r(145," Adicionar Imagens "),i(),o(146,"input",61,0),b("change",function(t){g(e);let s=c();return p(s.onImageSelect(t))}),i(),o(148,"button",62),b("click",function(){g(e);let t=c();return p(t.abrirSeletorImagens())}),o(149,"span",5),r(150,"cloud_upload"),i(),r(151," Selecionar Imagens "),i(),o(152,"small",29),r(153,"Voc\xEA pode selecionar m\xFAltiplas imagens (m\xE1ximo recomendado: 10)"),i()(),P(154,Ae,6,0,"div",63),P(155,ze,6,0,"div",63),o(156,"div",64)(157,"button",65),b("click",function(){g(e);let t=c();return p(t.cancelar())}),r(158," Cancelar "),i(),o(159,"button",66),P(160,We,3,0)(161,Ne,4,1),i()()()()}if(l&2){let e=c();m(3),h(e.editingImovel()?"Editar Im\xF3vel":"Novo Im\xF3vel"),m(),d("disabled",e.loading()),m(14),f("ngModel",e.formData.titulo),d("disabled",e.loading()),m(6),f("ngModel",e.formData.tipoImovel),d("disabled",e.loading()),m(2),d("ngForOf",e.tipos()),m(6),h(e.formData.ativo===!1?"visibility_off":"visibility"),m(4),f("ngModel",e.formData.ativo),d("disabled",e.loading()),m(3),D(" ",e.formData.ativo===!1?"Desabilitado para clientes":"Habilitado para clientes"," "),m(13),f("ngModel",e.formData.estado),d("disabled",e.loading()),m(),d("ngForOf",e.estados),m(6),f("ngModel",e.formData.cidade),d("disabled",e.loading()),m(7),f("ngModel",e.formData.endereco),d("disabled",e.loading()),m(11),f("ngModel",e.formData.preco),d("disabled",e.loading()),m(11),f("ngModel",e.formData.salas),d("disabled",e.loading()),m(6),f("ngModel",e.formData.cozinhas),d("disabled",e.loading()),m(6),f("ngModel",e.formData.banheiros),d("disabled",e.loading()),m(7),f("ngModel",e.formData.suites),d("disabled",e.loading()),m(6),f("ngModel",e.formData.lavabos),d("disabled",e.loading()),m(6),f("ngModel",e.formData.garagemDescoberta),d("disabled",e.loading()),m(7),f("ngModel",e.formData.garagemCoberta),d("disabled",e.loading()),m(10),f("ngModel",e.formData.descricao),d("disabled",e.loading()),m(10),d("disabled",e.loading()),m(2),d("disabled",e.loading()),m(6),x(e.imagensExistentes().length>0&&e.editingImovel()?154:-1),m(),x(e.imagensPreview().length>0?155:-1),m(2),d("disabled",e.loading()),m(2),d("disabled",e.loading()),m(),x(e.loading()?160:161)}}function Be(l,n){if(l&1&&(o(0,"option",67),r(1),i()),l&2){let e=n.$implicit;d("value",e),m(),h(e)}}function je(l,n){if(l&1&&w(0,"img",78),l&2){let e=c().$implicit;d("src",e.imagens[0].url,k)("alt",e.titulo),K("title",e.titulo)}}function qe(l,n){l&1&&(o(0,"div",79)(1,"span",5),r(2,"image_not_supported"),i(),o(3,"p"),r(4,"Sem imagem"),i()())}function Re(l,n){if(l&1){let e=S();o(0,"div",76)(1,"div",77),P(2,je,1,3,"img",78)(3,qe,5,0,"div",79),o(4,"span",80)(5,"span",5),r(6),i(),r(7),i()(),o(8,"div",81)(9,"h3"),r(10),i(),o(11,"p",82)(12,"span",5),r(13,"location_on"),i(),r(14),i(),o(15,"div",83)(16,"span")(17,"span",5),r(18,"home"),i(),r(19),i()(),o(20,"div",84),r(21),i()(),o(22,"div",85)(23,"button",86),b("click",function(){let t=g(e).$implicit,s=c(2);return p(s.toggleAtivo(t))}),o(24,"span",5),r(25),i(),r(26),i(),o(27,"button",87),b("click",function(){let t=g(e).$implicit,s=c(2);return p(s.editarImovel(t))}),o(28,"span",5),r(29,"edit"),i()(),o(30,"button",88),b("click",function(){let t=g(e).$implicit,s=c(2);return p(s.deletarImovel(t))}),o(31,"span",5),r(32,"delete"),i()()()()}if(l&2){let e=n.$implicit,a=c(2);j("imovel-inativo",e.ativo===!1),m(2),x(e.imagens&&e.imagens.length>0?2:3),m(2),j("inactive",e.ativo===!1),m(2),h(e.ativo===!1?"visibility_off":"visibility"),m(),D(" ",e.ativo===!1?"Desabilitado":"Habilitado"," "),m(3),h(e.titulo),m(4),te(" ",e.endereco,", ",e.cidade," - ",e.estado," "),m(5),D(" ",e.tipoImovel),m(2),h(a.formatarPreco(e.preco)),m(2),d("disabled",a.loading())("title",e.ativo===!1?"Habilitar im\xF3vel":"Desabilitar im\xF3vel"),m(2),h(e.ativo===!1?"toggle_on":"toggle_off"),m(),D(" ",e.ativo===!1?"Habilitar":"Desabilitar"," "),m(),d("disabled",a.loading()),m(3),d("disabled",a.loading())}}function Ue(l,n){if(l&1&&(o(0,"div",16),A(1,Re,33,19,"div",75,ye),i()),l&2){let e=c();m(),V(e.imoveisFiltrados())}}function He(l,n){if(l&1){let e=S();o(0,"button",90),b("click",function(){g(e);let t=c(2);return p(t.novoImovel())}),o(1,"span",5),r(2,"add"),i(),r(3," Adicionar Primeiro Im\xF3vel "),i()}}function $e(l,n){if(l&1&&(o(0,"div",17)(1,"span",5),r(2,"home_work"),i(),o(3,"h3"),r(4,"Nenhum im\xF3vel encontrado"),i(),o(5,"p"),r(6),i(),P(7,He,4,0,"button",89),i()),l&2){let e=c();m(6),h(e.searchTerm()||e.tipoFiltro()?"Tente ajustar os filtros.":"Comece adicionando seu primeiro im\xF3vel."),m(),x(!e.searchTerm()&&!e.tipoFiltro()?7:-1)}}var xe=class l{constructor(n,e,a,t,s){this.imovelService=n;this.imagemImovelService=e;this.authService=a;this.router=t;this.alertService=s}fileInput;loading=M(!1);errorMessage=M("");successMessage=M("");showForm=M(!1);editingImovel=M(null);uploadingImages=M(!1);formData={titulo:"",tipoImovel:"",estado:"PB",cidade:"Jo\xE3o Pessoa",endereco:"",descricao:"",ativo:!0,salas:void 0,cozinhas:void 0,banheiros:void 0,suites:void 0,lavabos:void 0,garagemDescoberta:void 0,garagemCoberta:void 0};imagensSelecionadas=M([]);imagensPreview=M([]);imagensExistentes=M([]);searchTerm=M("");tipoFiltro=M("");imoveis=M([]);tipos=M([...U]);estados=["PB","PE","RN","CE","AL","SE","BA"];cidades=M([]);isAdmin=q(()=>this.authService.isAdmin());ngOnInit(){if(!this.isAdmin()){this.router.navigate(["/"]);return}this.carregarImoveis()}carregarImoveis(){this.loading.set(!0),this.errorMessage.set(""),this.imovelService.getAll().subscribe({next:n=>{this.imoveis.set(n),this.extrairCidades(n),this.atualizarTipos(n),this.loading.set(!1)},error:n=>{console.error("Erro ao carregar im\xF3veis:",n),this.errorMessage.set("Erro ao carregar im\xF3veis. Tente novamente mais tarde."),this.loading.set(!1)}})}extrairCidades(n){let e=new Set;n.forEach(a=>{a.cidade&&e.add(a.cidade)}),this.cidades.set(Array.from(e).sort())}atualizarTipos(n){let e=new Set;if(n.forEach(a=>{let t=(a.tipoImovel||"").trim();t&&e.add(this.titleCase(t))}),e.size===0){this.tipos.set([...U]);return}this.tipos.set(Array.from(e).sort())}titleCase(n){return n?n.toLowerCase().split(" ").filter(Boolean).map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""}tipDefault(){return""}imoveisFiltrados=q(()=>{let n=[...this.imoveis()],e=this.searchTerm().toLowerCase();e&&(n=n.filter(t=>t.titulo?.toLowerCase().includes(e)||t.endereco?.toLowerCase().includes(e)||t.cidade?.toLowerCase().includes(e)));let a=this.tipoFiltro().toLowerCase();return a&&(n=n.filter(t=>(t.tipoImovel||"").toLowerCase()===a)),n});formatarPreco(n){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0,maximumFractionDigits:0}).format(n)}getImagemUrl(n){return n.imagens&&n.imagens.length>0?n.imagens[0].url:"/images/placeholder-imovel.jpg"}novoImovel(){this.editingImovel.set(null),this.formData={titulo:"",tipoImovel:"",estado:"PB",cidade:"Jo\xE3o Pessoa",endereco:"",preco:void 0,descricao:"",ativo:!0,salas:void 0,cozinhas:void 0,banheiros:void 0,suites:void 0,lavabos:void 0,garagemDescoberta:void 0,garagemCoberta:void 0},this.imagensSelecionadas.set([]),this.imagensPreview.set([]),this.imagensExistentes.set([]),this.errorMessage.set(""),this.successMessage.set(""),this.showForm.set(!0),window.scrollTo({top:0,behavior:"smooth"})}editarImovel(n){this.editingImovel.set(n),this.formData={titulo:n.titulo,tipoImovel:n.tipoImovel,estado:n.estado,cidade:n.cidade,endereco:n.endereco,preco:n.preco,descricao:n.descricao,ativo:n.ativo!==!1,salas:n.salas,cozinhas:n.cozinhas,banheiros:n.banheiros,suites:n.suites,lavabos:n.lavabos,garagemDescoberta:n.garagemDescoberta,garagemCoberta:n.garagemCoberta},this.imagensSelecionadas.set([]),this.imagensPreview.set([]),n.imagens&&n.imagens.length>0?this.imagensExistentes.set(n.imagens.map(e=>e.url)):this.imagensExistentes.set([]),this.errorMessage.set(""),this.successMessage.set(""),this.showForm.set(!0),window.scrollTo({top:0,behavior:"smooth"})}cancelar(){this.showForm.set(!1),this.editingImovel.set(null),this.formData={},this.imagensSelecionadas.set([]),this.imagensPreview.set([]),this.imagensExistentes.set([]),this.errorMessage.set(""),this.successMessage.set("")}salvarImovel(){let n=this.titleCase((this.formData.tipoImovel||"").trim());if(this.formData.tipoImovel=n,!this.formData.titulo||!n||!this.formData.cidade||!this.formData.endereco||!this.formData.preco||!this.formData.descricao||!this.formData.estado){this.errorMessage.set("Por favor, preencha todos os campos obrigat\xF3rios."),this.scrollToTop();return}if(this.formData.preco<=0){this.errorMessage.set("O pre\xE7o deve ser maior que zero."),this.scrollToTop();return}this.loading.set(!0),this.errorMessage.set("");let e={titulo:this.formData.titulo,tipoImovel:n,estado:this.formData.estado,cidade:this.formData.cidade,endereco:this.formData.endereco,preco:this.formData.preco,status:"Disponivel",descricao:this.formData.descricao,ativo:this.formData.ativo??!0,salas:this.formData.salas,cozinhas:this.formData.cozinhas,banheiros:this.formData.banheiros,suites:this.formData.suites,lavabos:this.formData.lavabos,garagemDescoberta:this.formData.garagemDescoberta,garagemCoberta:this.formData.garagemCoberta},a=this.editingImovel(),t=a?"atualizar":"criar";(a?this.imovelService.update(a.id,e):this.imovelService.create(e)).pipe(L(v=>this.processarUploads(v.id).pipe(N(_=>({imovel:v,uploadComAviso:_})))),T(()=>this.loading.set(!1))).subscribe({next:({uploadComAviso:v})=>{this.cancelar(),this.carregarImoveis();let _=a?"Im\xF3vel atualizado com sucesso!":"Im\xF3vel criado com sucesso!",I=v?`${_} Algumas imagens n\xE3o foram enviadas.`:_;this.successMessage.set(I),setTimeout(()=>this.successMessage.set(""),3e3)},error:v=>{console.error("Erro ao salvar im\xF3vel:",v),this.errorMessage.set(this.getErroMensagemOperacao(t,v)),this.scrollToTop()}})}processarUploads(n){let e=this.imagensSelecionadas();if(e.length===0)return this.imagensSelecionadas.set([]),this.imagensPreview.set([]),W(!1);this.uploadingImages.set(!0);let a=e.map(t=>this.imagemImovelService.upload(n,t));return $(a).pipe(N(()=>!1),Y(t=>(console.error("Erro ao fazer upload de imagens:",t),this.errorMessage.set("Im\xF3vel salvo, mas algumas imagens n\xE3o foram enviadas."),W(!0))),T(()=>{this.uploadingImages.set(!1),this.imagensSelecionadas.set([]),this.imagensPreview.set([])}))}deletarImovel(n){this.alertService.confirmDanger("Excluir Im\xF3vel",`Tem certeza que deseja excluir o im\xF3vel "${n.titulo}"? Esta a\xE7\xE3o n\xE3o pode ser desfeita.`,"Sim, excluir","Cancelar").then(e=>{e.isConfirmed&&(this.loading.set(!0),this.imovelService.delete(n.id).subscribe({next:()=>{this.loading.set(!1),this.successMessage.set("Im\xF3vel exclu\xEDdo com sucesso!"),this.carregarImoveis(),setTimeout(()=>this.successMessage.set(""),3e3)},error:a=>{if(console.error("Erro ao deletar im\xF3vel:",a),this.loading.set(!1),a?.status===404){this.successMessage.set("Im\xF3vel j\xE1 havia sido removido. Lista atualizada."),this.carregarImoveis(),setTimeout(()=>this.successMessage.set(""),3e3);return}this.errorMessage.set("Erro ao excluir im\xF3vel. Tente novamente.")}}))})}toggleAtivo(n){let a=!(n.ativo!==!1),t=a?"Habilitar Im\xF3vel":"Desabilitar Im\xF3vel",s=a?`Deseja habilitar o im\xF3vel "${n.titulo}"? Ele ficar\xE1 vis\xEDvel para os clientes.`:`Deseja desabilitar o im\xF3vel "${n.titulo}"? Ele deixar\xE1 de aparecer para os clientes.`;this.alertService.confirm(t,s,a?"Sim, habilitar":"Sim, desabilitar","Cancelar","question").then(v=>{v.isConfirmed&&(this.loading.set(!0),this.imovelService.updateAtivo(n.id,a).pipe(L(()=>this.imovelService.getById(n.id)),T(()=>this.loading.set(!1))).subscribe({next:_=>{let I=this.imoveis().map(O=>O.id===_.id?_:O);this.imoveis.set(I);let y=this.editingImovel();y&&y.id===_.id&&(this.editingImovel.set(_),_.imagens&&_.imagens.length>0?this.imagensExistentes.set(_.imagens.map(O=>O.url)):this.imagensExistentes.set([])),this.successMessage.set(a?"Im\xF3vel habilitado com sucesso!":"Im\xF3vel desabilitado com sucesso!"),setTimeout(()=>this.successMessage.set(""),3e3)},error:_=>{console.error("Erro ao atualizar visibilidade do im\xF3vel:",_),this.errorMessage.set("N\xE3o foi poss\xEDvel alterar a visibilidade do im\xF3vel. Tente novamente."),setTimeout(()=>this.errorMessage.set(""),4e3)}}))})}deletarImagem(n,e,a){this.alertService.confirmDanger("Excluir Imagem","Tem certeza que deseja excluir esta imagem?","Sim, excluir","Cancelar").then(t=>{t.isConfirmed&&this.imagemImovelService.delete(e).subscribe({next:()=>{let s=[...this.imagensExistentes()];s.splice(a,1),this.imagensExistentes.set(s),this.carregarImoveis(),this.successMessage.set("Imagem exclu\xEDda com sucesso!"),setTimeout(()=>this.successMessage.set(""),3e3)},error:s=>{if(console.error("Erro ao deletar imagem:",s),s?.status===404){this.successMessage.set("Imagem j\xE1 havia sido removida. Lista atualizada."),this.carregarImoveis(),setTimeout(()=>this.successMessage.set(""),3e3);return}if(s?.status===200||s?.statusText==="OK"){this.successMessage.set("Imagem exclu\xEDda com sucesso!"),this.carregarImoveis(),setTimeout(()=>this.successMessage.set(""),3e3);return}this.errorMessage.set("Erro ao excluir imagem. Tente novamente.")}})})}getErroMensagemOperacao(n,e){return e?.status===0?"N\xE3o foi poss\xEDvel conectar ao servidor. Verifique sua internet e tente novamente.":typeof e?.error=="string"?e.error:e?.error?.message?e.error.message:e?.status===400?"Dados inv\xE1lidos. Verifique as informa\xE7\xF5es e tente novamente.":e?.status===404?"Im\xF3vel n\xE3o encontrado.":`Erro ao ${n} im\xF3vel. Tente novamente.`}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}abrirSeletorImagens(){this.fileInput?.nativeElement.click()}onImageSelect(n){let e=n.target;if(e.files&&e.files.length>0){let a=Array.from(e.files),t=a.filter(v=>v.type.startsWith("image/"));if(t.length!==a.length){this.errorMessage.set("Por favor, selecione apenas arquivos de imagem.");return}if(this.imagensSelecionadas().length+t.length>10){this.errorMessage.set("Voc\xEA pode adicionar no m\xE1ximo 10 imagens por im\xF3vel.");return}this.imagensSelecionadas.set([...this.imagensSelecionadas(),...t]),t.forEach(v=>{let _=new FileReader;_.onload=I=>{let y=I.target?.result;this.imagensPreview.set([...this.imagensPreview(),y])},_.readAsDataURL(v)}),e.value=""}}removerImagemPreview(n){let e=[...this.imagensPreview()];e.splice(n,1),this.imagensPreview.set(e);let a=[...this.imagensSelecionadas()];a.splice(n,1),this.imagensSelecionadas.set(a)}todasImagens(){return[...this.imagensExistentes(),...this.imagensPreview()]}podeDeletarImagem(n){let e=this.editingImovel();return!!(e&&e.imagens&&e.imagens.length>n&&e.imagens[n])}getImagemId(n){let e=this.editingImovel();return e&&e.imagens&&e.imagens.length>n&&e.imagens[n]?e.imagens[n].id:null}static \u0275fac=function(e){return new(e||l)(E(he),E(z),E(re),E(ae),E(Pe))};static \u0275cmp=Q({type:l,selectors:[["app-imoveis-admin"]],viewQuery:function(e,a){if(e&1&&X(we,5),e&2){let t;Z(t=ee())&&(a.fileInput=t.first)}},decls:27,vars:8,consts:[["fileInput",""],[1,"admin-imoveis-page"],[1,"page-header"],[1,"header-content"],["type","button",1,"btn-primary",3,"click","disabled"],[1,"material-icons"],["role","alert",1,"alert","alert-success"],["role","alert",1,"alert","alert-error"],[1,"form-section"],[1,"filters-bar"],[1,"search-box"],["type","text","placeholder","Buscar im\xF3veis...",3,"ngModelChange","ngModel"],["title","Filtrar por tipo","aria-label","Filtrar por tipo",1,"filter-select",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"imoveis-list"],[1,"imoveis-grid"],[1,"empty-state"],[1,"form-header"],["type","button","aria-label","Fechar formul\xE1rio",1,"btn-close",3,"click","disabled"],[1,"admin-form",3,"ngSubmit"],[1,"form-section-title"],[1,"form-row"],[1,"form-group"],["for","titulo"],["type","text","id","titulo","name","titulo","placeholder","Ex: Casa moderna com 3 quartos","required","",3,"ngModelChange","ngModel","disabled"],["for","tipoImovel"],["type","text","id","tipoImovel","name","tipoImovel","list","tiposImovel","placeholder","Ex: Casa","autocomplete","off","required","","title","Digite o tipo do im\xF3vel","aria-label","Tipo de im\xF3vel",1,"type-input",3,"ngModelChange","ngModel","disabled"],["id","tiposImovel"],[1,"field-hint"],[1,"form-group","toggle-field"],[1,"toggle-control"],["aria-label","Visibilidade do im\xF3vel",1,"switch"],["type","checkbox","name","ativo",3,"ngModelChange","ngModel","disabled"],[1,"slider"],[1,"toggle-text"],["for","estado"],["id","estado","name","estado","required","","title","Selecione o estado","aria-label","Estado",3,"ngModelChange","ngModel","disabled"],["for","cidade"],["type","text","id","cidade","name","cidade","placeholder","Ex: Jo\xE3o Pessoa","required","",3,"ngModelChange","ngModel","disabled"],["for","endereco"],["type","text","id","endereco","name","endereco","placeholder","Ex: Rua das Flores, 123 - Bairro","required","",3,"ngModelChange","ngModel","disabled"],["for","preco"],["type","number","id","preco","name","preco","placeholder","0","min","0","step","0.01","required","",3,"ngModelChange","ngModel","disabled"],["for","salas"],["type","number","id","salas","name","salas","placeholder","0","min","0",3,"ngModelChange","ngModel","disabled"],["for","cozinhas"],["type","number","id","cozinhas","name","cozinhas","placeholder","0","min","0",3,"ngModelChange","ngModel","disabled"],["for","banheiros"],["type","number","id","banheiros","name","banheiros","placeholder","0","min","0",3,"ngModelChange","ngModel","disabled"],["for","suites"],["type","number","id","suites","name","suites","placeholder","0","min","0",3,"ngModelChange","ngModel","disabled"],["for","lavabos"],["type","number","id","lavabos","name","lavabos","placeholder","0","min","0",3,"ngModelChange","ngModel","disabled"],["for","garagemDescoberta"],["type","number","id","garagemDescoberta","name","garagemDescoberta","placeholder","0","min","0",3,"ngModelChange","ngModel","disabled"],["for","garagemCoberta"],["type","number","id","garagemCoberta","name","garagemCoberta","placeholder","0","min","0",3,"ngModelChange","ngModel","disabled"],["for","descricao"],["id","descricao","name","descricao","rows","5","placeholder","Descreva as caracter\xEDsticas e benef\xEDcios do im\xF3vel...","required","",3,"ngModelChange","ngModel","disabled"],["for","imagens"],["type","file","id","imagens","name","imagens","accept","image/*","multiple","",1,"file-input-hidden",3,"change","disabled"],["type","button",1,"btn-upload",3,"click","disabled"],[1,"images-section"],[1,"form-actions"],["type","button",1,"btn-secondary",3,"click","disabled"],["type","submit",1,"btn-primary",3,"disabled"],[3,"value"],[1,"images-preview"],[1,"image-preview-item"],["title","Imagem existente",3,"src","alt"],["type","button","aria-label","Remover imagem",1,"btn-remove-image",3,"disabled"],["type","button","aria-label","Remover imagem",1,"btn-remove-image",3,"click","disabled"],["title","Preview imagem",3,"src","alt"],[1,"spinner"],[1,"imovel-item",3,"imovel-inativo"],[1,"imovel-item"],[1,"imovel-item-image"],["title","Imagem do im\xF3vel",3,"src","alt"],[1,"no-image"],[1,"imovel-status-chip"],[1,"imovel-item-info"],[1,"imovel-location"],[1,"imovel-features"],[1,"imovel-price"],[1,"imovel-item-actions"],["type","button","aria-label","Alterar visibilidade do im\xF3vel",1,"btn-action","btn-toggle",3,"click","disabled","title"],["type","button","title","Editar im\xF3vel","aria-label","Editar im\xF3vel",1,"btn-action","btn-edit",3,"click","disabled"],["type","button","title","Excluir im\xF3vel","aria-label","Excluir im\xF3vel",1,"btn-action","btn-delete",3,"click","disabled"],["type","button",1,"btn-primary"],["type","button",1,"btn-primary",3,"click"]],template:function(e,a){e&1&&(o(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h1"),r(5,"Gerenciar Im\xF3veis"),i(),o(6,"p"),r(7,"Adicione, edite e exclua im\xF3veis do sistema"),i()(),o(8,"button",4),b("click",function(){return a.novoImovel()}),o(9,"span",5),r(10,"add"),i(),r(11," Novo Im\xF3vel "),i()()(),P(12,Ee,5,1,"div",6),P(13,Se,5,1,"div",7),P(14,Le,162,43,"div",8),o(15,"div",9)(16,"div",10)(17,"span",5),r(18,"search"),i(),o(19,"input",11),C("ngModelChange",function(s){return u(a.searchTerm,s)||(a.searchTerm=s),s}),b("ngModelChange",function(s){return a.searchTerm.set(s)}),i()(),o(20,"select",12),C("ngModelChange",function(s){return u(a.tipoFiltro,s)||(a.tipoFiltro=s),s}),b("ngModelChange",function(s){return a.tipoFiltro.set(s)}),o(21,"option",13),r(22,"Todos os tipos"),i(),F(23,Be,2,2,"option",14),i()(),o(24,"div",15),P(25,Ue,3,0,"div",16)(26,$e,8,2,"div",17),i()()),e&2&&(m(8),d("disabled",a.loading()||a.showForm()),m(4),x(a.successMessage()?12:-1),m(),x(a.errorMessage()?13:-1),m(),x(a.showForm()?14:-1),m(5),f("ngModel",a.searchTerm),m(),f("ngModel",a.tipoFiltro),m(3),d("ngForOf",a.tipos()),m(2),x(a.imoveisFiltrados().length>0?25:26))},dependencies:[ie,ne,be,pe,ue,Ce,me,_e,se,fe,le,ce,Me,ve,ge,de],styles:['.admin-imoveis-page[_ngcontent-%COMP%]{min-height:100vh;background:#f8f9fa;padding:3rem 2rem}@media (max-width: 576px){.admin-imoveis-page[_ngcontent-%COMP%]{padding:1.5rem}}.page-header[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:2rem;margin-bottom:2rem;box-shadow:0 4px 8px #0000001a}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1.5rem}@media (max-width: 576px){.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#2c3e50;margin-bottom:.25rem}@media (max-width: 576px){.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#999;margin:0}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:12px 2rem;background:linear-gradient(135deg,#1a1a2e,#0f3460);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 12px #0f34604d}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 16px #0f346066}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}.alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:1rem;border-radius:8px;margin-bottom:1.5rem;animation:_ngcontent-%COMP%_slideDown .3s ease-out}.alert[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px}.alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;flex:1}.alert.alert-error[_ngcontent-%COMP%]{background:#e74c3c1a;border:1px solid #e74c3c;color:#e74c3c}.alert.alert-success[_ngcontent-%COMP%]{background:#27ae601a;border:1px solid #27ae60;color:#27ae60}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.form-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:3rem;margin-bottom:2rem;box-shadow:0 4px 8px #0000001a}@media (max-width: 576px){.form-section[_ngcontent-%COMP%]{padding:2rem 1.5rem}}.form-section[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:3rem;padding-bottom:1.5rem;border-bottom:2px solid #f8f9fa}.form-section[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#2c3e50;margin:0}.form-section[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{width:40px;height:40px;background:transparent;border:2px solid #e0e0e0;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease}.form-section[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#e74c3c;color:#e74c3c}.form-section[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.form-section[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px}.form-section[_ngcontent-%COMP%]   .form-section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1.125rem;font-weight:600;color:#2c3e50;margin:2rem 0 1.5rem;padding-bottom:.5rem;border-bottom:1px solid #f8f9fa}.form-section[_ngcontent-%COMP%]   .form-section-title[_ngcontent-%COMP%]:first-of-type{margin-top:0}.form-section[_ngcontent-%COMP%]   .form-section-title[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px;color:#3498db}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}@media (max-width: 576px){.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.875rem;font-weight:600;color:#333;margin-bottom:.25rem}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px;color:#0f3460}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 1rem;font-size:.875rem;border:2px solid #e0e0e0;border-radius:8px;transition:all .3s ease;background:#fff;color:#333;font-family:inherit}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:focus, .form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#0f3460;box-shadow:0 0 0 3px #0f34601a}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:disabled, .form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:disabled, .form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, .form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{background:#f8f9fa;cursor:not-allowed;opacity:.6}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder, .form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::placeholder, .form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder, .form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#999}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url(data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23666%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13.2-6.4H18.6c-5%200-9.3%201.8-13.2%206.4-3.9%204.5-6%2010.2-6%2016.3%200%206.1%202.1%2011.8%206%2016.3l127.9%20127.9c3.9%203.9%209.2%206.2%2016.3%206.2s12.4-2.3%2016.3-6.2L287%20102c3.9-4.5%206-10.2%206-16.3s-2.1-11.8-6-16.3z%22%2F%3E%3C%2Fsvg%3E);background-repeat:no-repeat;background-position:right 1rem top 50%;background-size:12px auto;padding-right:40px}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input.type-input[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;background-image:none}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input.type-input[_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{display:none}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .field-hint[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#999;margin-top:.25rem}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group.toggle-field[_ngcontent-%COMP%]   .toggle-control[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group.toggle-field[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]{font-size:.875rem;color:#666}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:46px;height:24px}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.3s;border-radius:24px}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:4px;bottom:3px;background-color:#fff;transition:.3s;border-radius:50%}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#3498db}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(20px)}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .file-input-hidden[_ngcontent-%COMP%]{display:none}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .btn-upload[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.25rem;padding:10px 1.5rem;background:#f8f9fa;border:2px dashed #e0e0e0;border-radius:8px;color:#333;font-size:.875rem;cursor:pointer;transition:all .3s ease}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .btn-upload[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#3498db;background:#3498db0d;color:#3498db}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .btn-upload[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .btn-upload[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .images-preview[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:1rem;margin-bottom:1.5rem}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .images-preview[_ngcontent-%COMP%]   .image-preview-item[_ngcontent-%COMP%]{position:relative;aspect-ratio:1;border-radius:8px;overflow:hidden;border:2px solid #e0e0e0}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .images-preview[_ngcontent-%COMP%]   .image-preview-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .images-preview[_ngcontent-%COMP%]   .image-preview-item[_ngcontent-%COMP%]   .btn-remove-image[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;width:32px;height:32px;background:#fffffff2;border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 8px #0000001a}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .images-preview[_ngcontent-%COMP%]   .image-preview-item[_ngcontent-%COMP%]   .btn-remove-image[_ngcontent-%COMP%]:hover:not(:disabled){background:#e74c3c;color:#fff;transform:scale(1.1)}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .images-preview[_ngcontent-%COMP%]   .image-preview-item[_ngcontent-%COMP%]   .btn-remove-image[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .images-preview[_ngcontent-%COMP%]   .image-preview-item[_ngcontent-%COMP%]   .btn-remove-image[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:3rem;padding-top:2rem;border-top:2px solid #f8f9fa}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{padding:12px 2rem;background:transparent;border:2px solid #e0e0e0;color:#333;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#999;background:#f8f9fa}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:12px 2rem;background:linear-gradient(135deg,#1a1a2e,#0f3460);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 12px #0f34604d}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 16px #0f346066}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{display:inline-block;width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.form-section[_ngcontent-%COMP%]   .admin-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.filters-bar[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem;background:#fff;padding:1.5rem;border-radius:12px;box-shadow:0 4px 8px #0000001a}@media (max-width: 576px){.filters-bar[_ngcontent-%COMP%]{flex-direction:column}}.filters-bar[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:.5rem;padding:10px 1rem;border:2px solid #e0e0e0;border-radius:8px;background:#fff}.filters-bar[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]:focus-within{border-color:#0f3460;box-shadow:0 0 0 3px #0f34601a}.filters-bar[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#999;font-size:20px}.filters-bar[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;font-size:.875rem;color:#333}.filters-bar[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#999}.filters-bar[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]{padding:10px 1rem;font-size:.875rem;border:2px solid #e0e0e0;border-radius:8px;background:#fff;color:#333;cursor:pointer;transition:all .3s ease;min-width:180px}.filters-bar[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#0f3460;box-shadow:0 0 0 3px #0f34601a}@media (max-width: 576px){.filters-bar[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]{width:100%}}.imoveis-list[_ngcontent-%COMP%]   .imoveis-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:2rem}@media (max-width: 768px){.imoveis-list[_ngcontent-%COMP%]   .imoveis-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1.5rem}}@media (max-width: 576px){.imoveis-list[_ngcontent-%COMP%]   .imoveis-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]{background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 4px 8px #0000001a;transition:all .3s ease;display:flex;flex-direction:column}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 16px #00000026}.imoveis-list[_ngcontent-%COMP%]   .imovel-item.imovel-inativo[_ngcontent-%COMP%]{opacity:.65;border:1px dashed rgba(153,153,153,.6);filter:grayscale(.2)}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]   .imovel-item-image[_ngcontent-%COMP%]{height:200px;background:#ecf0f1;position:relative;overflow:hidden}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]   .imovel-item-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]   .imovel-item-image[_ngcontent-%COMP%]   .imovel-status-chip[_ngcontent-%COMP%]{position:absolute;top:.5rem;left:.5rem;display:inline-flex;align-items:center;gap:4px;padding:4px 10px;background:#27ae60e6;color:#fff;border-radius:999px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]   .imovel-item-image[_ngcontent-%COMP%]   .imovel-status-chip.inactive[_ngcontent-%COMP%]{background:#e74c3ce6}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]   .imovel-item-image[_ngcontent-%COMP%]   .imovel-status-chip[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]   .imovel-item-image[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:#f8f9fa;color:#999}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]   .imovel-item-image[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:48px}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]   .imovel-item-info[_ngcontent-%COMP%]{padding:1.5rem;flex:1}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]   .imovel-item-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#2c3e50;margin-bottom:.5rem;line-height:1.4}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]   .imovel-item-info[_ngcontent-%COMP%]   .imovel-location[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;color:#666;font-size:.875rem;margin-bottom:1rem}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]   .imovel-item-info[_ngcontent-%COMP%]   .imovel-location[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px;color:#3498db}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]   .imovel-item-info[_ngcontent-%COMP%]   .imovel-features[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;margin-bottom:1rem;font-size:.875rem;color:#333}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]   .imovel-item-info[_ngcontent-%COMP%]   .imovel-features[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;color:#3498db;vertical-align:middle}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]   .imovel-item-info[_ngcontent-%COMP%]   .imovel-price[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#3498db;margin-top:auto}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]   .imovel-item-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;padding:1rem 1.5rem;border-top:1px solid #f8f9fa;background:#f8f9fa}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]   .imovel-item-actions[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;gap:.25rem;padding:10px;border:none;border-radius:8px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .3s ease}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]   .imovel-item-actions[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]   .imovel-item-actions[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]   .imovel-item-actions[_ngcontent-%COMP%]   .btn-action.btn-edit[_ngcontent-%COMP%]{background:#3498db1a;color:#3498db}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]   .imovel-item-actions[_ngcontent-%COMP%]   .btn-action.btn-edit[_ngcontent-%COMP%]:hover:not(:disabled){background:#3498db;color:#fff}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]   .imovel-item-actions[_ngcontent-%COMP%]   .btn-action.btn-delete[_ngcontent-%COMP%]{background:#e74c3c1a;color:#e74c3c}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]   .imovel-item-actions[_ngcontent-%COMP%]   .btn-action.btn-delete[_ngcontent-%COMP%]:hover:not(:disabled){background:#e74c3c;color:#fff}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]   .imovel-item-actions[_ngcontent-%COMP%]   .btn-action.btn-toggle[_ngcontent-%COMP%]{background:#f39c121f;color:#f39c12}.imoveis-list[_ngcontent-%COMP%]   .imovel-item[_ngcontent-%COMP%]   .imovel-item-actions[_ngcontent-%COMP%]   .btn-action.btn-toggle[_ngcontent-%COMP%]:hover:not(:disabled){background:#f39c12;color:#fff}.imoveis-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;background:#fff;border-radius:12px;box-shadow:0 4px 8px #0000001a}.imoveis-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:64px;color:#999;margin-bottom:1.5rem}.imoveis-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#2c3e50;margin-bottom:1rem}.imoveis-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-bottom:2rem}.imoveis-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.25rem;padding:1rem 2rem;background:linear-gradient(135deg,#1a1a2e,#0f3460);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 12px #0f34604d}.imoveis-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #0f346066}.imoveis-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}']})};export{xe as ImoveisAdmin};
