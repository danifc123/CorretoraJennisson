import{a as R,b as L}from"./chunk-ZZ44NNR2.js";import{a as I}from"./chunk-PTGZVO3N.js";import{a as z}from"./chunk-OLTQKJMM.js";import{b as oe,c as ae,f as se,o as re,q as ce}from"./chunk-WAF6PPOG.js";import"./chunk-JIQYLXCT.js";import{Aa as X,D as P,Da as N,E as x,Ea as s,Fa as v,Ja as Z,K as u,Ka as ee,L as B,La as te,Na as j,Q as r,S as Q,Wa as ne,X as M,Xa as ie,Y as b,a as U,b as A,cb as E,da as q,ea as p,fa as f,g as $,ia as T,ja as D,ka as S,la as d,ma as c,n as O,na as V,oa as _,pa as h,qa as H,ta as w,ua as Y,va as y,wa as G,xa as m,ya as J,za as K}from"./chunk-MV26KPO3.js";var Ce=["messagesContainer"],ve=(i,t)=>t.id;function Me(i,t){if(i&1&&(d(0,"p",16),s(1),c()),i&2){let e=m(2);r(),v(e.currentUsuarioEmail())}}function Oe(i,t){if(i&1&&(d(0,"p",17),s(1),c()),i&2){let e=m(2);r(),v(e.currentUsuarioTelefone())}}function Pe(i,t){if(i&1&&(d(0,"div",4)(1,"span",13),s(2,"account_circle"),c(),d(3,"div",14)(4,"h3"),s(5),c(),d(6,"div",15),p(7,Me,2,1,"p",16),p(8,Oe,2,1,"p",17),c()()()),i&2){let e=m();r(5),v(e.currentUsuarioNome()),r(2),f(e.currentUsuarioEmail()?7:-1),r(),f(e.currentUsuarioTelefone()?8:-1)}}function xe(i,t){if(i&1&&(d(0,"span",13),s(1,"chat"),c(),d(2,"h3"),s(3),c()),i&2){let e=m();r(3),v(e.isAdmin()?"Chat com Clientes":"Chat de Suporte")}}function we(i,t){i&1&&(d(0,"div",5)(1,"span",13),s(2,"sync"),c(),d(3,"span"),s(4,"Reconectando..."),c()())}function be(i,t){i&1&&(d(0,"div",7)(1,"span",13),s(2,"hourglass_top"),c(),d(3,"p"),s(4,"Carregando mensagens..."),c()())}function Se(i,t){i&1&&(d(0,"p"),s(1,"Selecione uma conversa"),c(),d(2,"small"),s(3,"Escolha uma conversa na lista ao lado para come\xE7ar"),c())}function ye(i,t){i&1&&(d(0,"p"),s(1,"Nenhuma mensagem ainda."),c(),d(2,"small"),s(3,"Seja o primeiro a enviar uma mensagem!"),c())}function Ee(i,t){if(i&1&&(d(0,"div",8)(1,"span",13),s(2,"chat_bubble_outline"),c(),p(3,Se,4,0)(4,ye,4,0),c()),i&2){let e=m();r(3),f(e.isAdmin()&&e.usuarioId===void 0?3:4)}}function Ie(i,t){if(i&1){let e=w();d(0,"button",27),y("click",function(){P(e);let o=m().$implicit,a=m(2);return x(a.markAsRead(o.id))}),d(1,"span",13),s(2,"check_circle_outline"),c()()}}function ke(i,t){if(i&1&&(d(0,"div",19)(1,"div",20)(2,"div",21),s(3),c(),d(4,"div",22)(5,"div",23),s(6),c(),d(7,"div",24)(8,"span",25),s(9),c(),p(10,Ie,3,0,"button",26),c()()()()),i&2){let e=t.$implicit,n=m(2);N("message-usuario",n.isUsuarioMessage(e))("message-admin",!n.isUsuarioMessage(e))("message-unread",!e.lida&&!n.isUsuarioMessage(e)),r(3),v(n.getSenderName(e)),r(3),v(n.getCleanMessageText(e.conteudo)),r(3),v(n.formatDate(e.created_At)),r(),f(!e.lida&&!n.isUsuarioMessage(e)&&n.isAdmin()?10:-1)}}function Ue(i,t){if(i&1&&T(0,ke,11,10,"div",18,ve),i&2){let e=m();D(e.messages())}}var W=class i{constructor(t,e,n,o){this.chatService=t;this.signalRService=e;this.authService=n;this.usuarioService=o;ie(()=>{let a=this.usuarioIdSignal(),g=this.allMessages();this.isAdmin()?a!==void 0&&g.length>0?(this.filterMessagesByUsuario(),this.loadUsuarioInfo()):this.messages.set([]):g.length>0&&this.messages.set(g)})}messagesContainer;usuarioId;assunto;messages=u([]);allMessages=u([]);newMessage=u("");loading=u(!1);isConnected=u(!1);isAdmin=ne(()=>this.authService.isAdmin());unreadCount=u(0);currentAssunto=u(void 0);currentUsuarioNome=u("Cliente");currentUsuarioEmail=u(void 0);currentUsuarioTelefone=u(void 0);shouldScroll=!1;unsubscribeMessage;usuarioIdSignal=u(void 0);ngOnChanges(t){if(t.usuarioId){let e=t.usuarioId.currentValue,n=this.usuarioIdSignal();e!==n&&this.usuarioIdSignal.set(e)}}async ngOnInit(){await this.initializeChat()}ngOnDestroy(){this.unsubscribeMessage&&this.unsubscribeMessage()}ngAfterViewChecked(){this.shouldScroll&&(this.scrollToBottom(),this.shouldScroll=!1)}async initializeChat(){try{this.loading.set(!0),await this.signalRService.startConnection(),await new Promise(t=>setTimeout(t,100)),this.isConnected.set(this.signalRService.isConnected()),await this.loadMessages(),this.unsubscribeMessage=this.signalRService.onNewMessage(t=>{console.log("ChatWindow: Nova mensagem recebida via SignalR",t);let e=this.allMessages();if(!e.find(n=>n.id===t.id)){let n=[...e,t].sort((o,a)=>new Date(o.created_At).getTime()-new Date(a.created_At).getTime());this.allMessages.set(n),this.isAdmin()?this.usuarioIdSignal()!==void 0&&t.usuario_Id===this.usuarioIdSignal()&&(this.filterMessagesByUsuario(),this.shouldScroll=!0):(this.messages.set(n),this.shouldScroll=!0)}}),this.isAdmin()&&(this.loadUnreadCount(),setInterval(()=>{this.loadUnreadCount(),this.loadMessages()},3e4)),this.loading.set(!1),console.log("Chat inicializado. Admin:",this.isAdmin(),"Conectado:",this.isConnected())}catch(t){console.error("Erro ao inicializar chat:",t),this.loading.set(!1);try{await this.loadMessages()}catch(e){console.error("Erro ao carregar mensagens ap\xF3s falha do SignalR:",e)}}}async loadMessages(){try{let t=await O(this.chatService.getAll());if(t&&t.length>0){let e=t.sort((n,o)=>new Date(n.created_At).getTime()-new Date(o.created_At).getTime());console.log("Mensagens carregadas:",e.length),this.allMessages.set(e),this.isAdmin()?this.usuarioIdSignal()!==void 0?this.filterMessagesByUsuario():this.messages.set([]):this.messages.set(e),this.shouldScroll=!0}}catch(t){console.error("Erro ao carregar mensagens:",t)}}filterMessagesByUsuario(){let t=this.usuarioIdSignal();if(t===void 0){this.messages.set([]);return}let e=this.allMessages().filter(o=>o.usuario_Id===t);console.log(`Filtrando mensagens para usu\xE1rio ${t}:`,e.length,e),this.messages.set(e);let n=e.find(o=>o.remetente_Tipo===1);if(n){let o=this.extractAssunto(n.conteudo);this.currentAssunto.set(o||this.assunto)}else this.currentAssunto.set(this.assunto);this.shouldScroll=!0}async loadUsuarioInfo(){let t=this.usuarioIdSignal();if(t!==void 0)try{let e=await O(this.usuarioService.getById(t));if(e){this.currentUsuarioEmail.set(e.email),this.currentUsuarioTelefone.set(e.telefone);let n=this.allMessages().find(o=>o.usuario_Id===t&&o.remetente_Tipo===1);if(n){let o=this.extractNameFromMessage(n.conteudo);if(o)this.currentUsuarioNome.set(o);else{let a=e.email?.split("@")[0]||"Usu\xE1rio";this.currentUsuarioNome.set(this.capitalizeFirst(a))}}else{let o=e.email?.split("@")[0]||"Usu\xE1rio";this.currentUsuarioNome.set(this.capitalizeFirst(o))}}}catch(e){console.error("Erro ao carregar dados do usu\xE1rio:",e)}}extractAssunto(t){let e=t.match(/Assunto:\s*(.+)/i);if(e)return e[1].trim()}extractNameFromMessage(t){let e=t.match(/Contato:\s*(.+)/i);if(e)return e[1].trim()}capitalizeFirst(t){return t?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():""}async loadUnreadCount(){if(this.isAdmin())try{let t=await O(this.chatService.getCountNaoLidas());t!==void 0&&this.unreadCount.set(t)}catch(t){t?.status!==403&&console.error("Erro ao carregar contagem de n\xE3o lidas:",t)}}async sendMessage(){let t=this.newMessage().trim();if(!t)return;let e=this.usuarioId!==void 0?this.usuarioId:this.usuarioIdSignal();if(this.isAdmin()&&e===void 0){console.error("Admin tentou enviar mensagem sem selecionar um cliente"),alert("Por favor, selecione um cliente para enviar a mensagem.");return}let n=this.isAdmin()&&e!==void 0?e:void 0;console.log("[ChatWindow.sendMessage]",{isAdmin:this.isAdmin(),usuarioIdInput:this.usuarioId,usuarioIdSignal:this.usuarioIdSignal(),currentUsuarioId:e,usuarioIdDestino:n,conteudo:t.substring(0,50)});try{if(this.isConnected())await this.signalRService.sendMessage(t,n),this.newMessage.set(""),this.shouldScroll=!0,await this.loadMessages();else try{await this.signalRService.startConnection(),await new Promise(o=>setTimeout(o,100)),this.isConnected.set(this.signalRService.isConnected()),this.isConnected()?(await this.signalRService.sendMessage(t,n),this.newMessage.set(""),this.shouldScroll=!0,await this.loadMessages()):(await O(this.chatService.create({conteudo:t,usuarioIdDestino:n})),this.newMessage.set(""),await this.loadMessages())}catch{await O(this.chatService.create({conteudo:t,usuarioIdDestino:n})),this.newMessage.set(""),await this.loadMessages()}}catch(o){console.error("Erro ao enviar mensagem:",o);try{await O(this.chatService.create({conteudo:t,usuarioIdDestino:n})),this.newMessage.set(""),await this.loadMessages()}catch(a){console.error("Erro ao enviar mensagem via REST:",a),alert("Erro ao enviar mensagem. Tente novamente.")}}}async markAsRead(t){if(this.isAdmin())try{await this.signalRService.markAsRead(t);let e=this.messages().map(n=>n.id===t?A(U({},n),{lida:!0}):n);this.messages.set(e),this.loadUnreadCount()}catch(e){console.error("Erro ao marcar como lida:",e)}}isUsuarioMessage(t){let e=t.remetente_Tipo,n=String(e).toLowerCase(),o=Number(e),a=n==="usuario"||o===1||e===1;if(this.isAdmin())return a;{let g=this.authService.getCurrentUser();return a&&t.usuario_Id===g?.userId}}getSenderName(t){let e=t.remetente_Tipo,n=String(e).toLowerCase(),o=Number(e);if(n==="usuario"||o===1||e===1){if(t.usuario_Nome&&t.usuario_Nome.trim())return t.usuario_Nome.trim();if(t.usuario_Email){let g=t.usuario_Email.split("@")[0];return this.capitalizeFirst(g)}return"Cliente"}else return"Voc\xEA"}formatDate(t){let e=new Date(t),o=new Date().getTime()-e.getTime(),a=Math.floor(o/6e4);return a<1?"Agora":a<60?`${a}min atr\xE1s`:a<1440?`${Math.floor(a/60)}h atr\xE1s`:e.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}getCleanMessageText(t){if(!t||!t.trim())return t;let e=t.split(`
`),n=[],o=!1;for(let a of e){let g=a.trim();g.startsWith("Assunto:")||g.startsWith("Contato:")||g.startsWith("E-mail:")||g.startsWith("Telefone:")||g==="---"||g&&(n.push(a),o=!0)}return o&&n.length>0?n.join(`
`).trim():t.trim()}scrollToBottom(){if(this.messagesContainer){let t=this.messagesContainer.nativeElement;t.scrollTop=t.scrollHeight}}static \u0275fac=function(e){return new(e||i)(M(R),M(L),M(I),M(z))};static \u0275cmp=b({type:i,selectors:[["app-chat-window"]],viewQuery:function(e,n){if(e&1&&J(Ce,5),e&2){let o;K(o=X())&&(n.messagesContainer=o.first)}},inputs:{usuarioId:"usuarioId",assunto:"assunto"},features:[B],decls:18,vars:7,consts:[["messagesContainer",""],[1,"chat-window"],[1,"chat-header"],[1,"chat-header-content"],[1,"chat-header-user"],[1,"connection-status"],[1,"chat-messages"],[1,"loading-state"],[1,"empty-state"],[1,"chat-input"],["for","chat-message-input",1,"sr-only"],["type","text","id","chat-message-input","aria-label","Campo de mensagem do chat","maxlength","2000",3,"ngModelChange","keydown.enter","ngModel","placeholder","disabled"],["title","Enviar mensagem",1,"btn-send",3,"click","disabled"],[1,"material-icons"],[1,"chat-header-user-info"],[1,"chat-header-dados"],[1,"chat-header-email"],[1,"chat-header-telefone"],[1,"message",3,"message-usuario","message-admin","message-unread"],[1,"message"],[1,"message-content"],[1,"message-sender-name"],[1,"message-body"],[1,"message-text"],[1,"message-footer"],[1,"message-time"],["title","Marcar como lida",1,"btn-mark-read"],["title","Marcar como lida",1,"btn-mark-read",3,"click"]],template:function(e,n){if(e&1){let o=w();d(0,"div",1)(1,"div",2)(2,"div",3),p(3,Pe,9,3,"div",4)(4,xe,4,1),c(),p(5,we,5,0,"div",5),c(),d(6,"div",6,0),p(8,be,5,0,"div",7)(9,Ee,5,1,"div",8)(10,Ue,2,0),c(),d(11,"div",9)(12,"label",10),s(13,"Digite sua mensagem"),c(),d(14,"input",11),te("ngModelChange",function(g){return P(o),ee(n.newMessage,g)||(n.newMessage=g),x(g)}),y("keydown.enter",function(){return P(o),x(n.sendMessage())}),c(),d(15,"button",12),y("click",function(){return P(o),x(n.sendMessage())}),d(16,"span",13),s(17,"send"),c()()()()}e&2&&(r(3),f(n.isAdmin()&&n.usuarioId!==void 0?3:4),r(2),f(n.isConnected()?-1:5),r(3),f(n.loading()?8:n.messages().length===0?9:10),r(6),Z("ngModel",n.newMessage),S("placeholder",n.isAdmin()&&n.usuarioId===void 0?"Selecione uma conversa para enviar mensagem":"Digite sua mensagem...")("disabled",!n.isConnected()||n.loading()||n.isAdmin()&&n.usuarioId===void 0),r(),S("disabled",!n.isConnected()||n.loading()||!n.newMessage().trim()||n.isAdmin()&&n.usuarioId===void 0))},dependencies:[E,ce,oe,ae,re,se],styles:[`.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.chat-window[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background:#fff;border-radius:12px;box-shadow:0 8px 16px #00000026;overflow:hidden}.chat-header[_ngcontent-%COMP%]{background:#2c3e50;color:#fff;padding:1rem;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 4px #0000001a;z-index:10}.chat-header[_ngcontent-%COMP%]   .chat-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex:1}.chat-header[_ngcontent-%COMP%]   .chat-header-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;font-weight:600}.chat-header[_ngcontent-%COMP%]   .chat-header-content[_ngcontent-%COMP%]   .chat-header-user[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex:1}.chat-header[_ngcontent-%COMP%]   .chat-header-content[_ngcontent-%COMP%]   .chat-header-user[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:2.5rem}.chat-header[_ngcontent-%COMP%]   .chat-header-content[_ngcontent-%COMP%]   .chat-header-user[_ngcontent-%COMP%]   .chat-header-user-info[_ngcontent-%COMP%]{flex:1}.chat-header[_ngcontent-%COMP%]   .chat-header-content[_ngcontent-%COMP%]   .chat-header-user[_ngcontent-%COMP%]   .chat-header-user-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;font-weight:600}.chat-header[_ngcontent-%COMP%]   .chat-header-content[_ngcontent-%COMP%]   .chat-header-user[_ngcontent-%COMP%]   .chat-header-user-info[_ngcontent-%COMP%]   .chat-header-dados[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem;margin-top:.25rem}.chat-header[_ngcontent-%COMP%]   .chat-header-content[_ngcontent-%COMP%]   .chat-header-user[_ngcontent-%COMP%]   .chat-header-user-info[_ngcontent-%COMP%]   .chat-header-dados[_ngcontent-%COMP%]   .chat-header-email[_ngcontent-%COMP%], .chat-header[_ngcontent-%COMP%]   .chat-header-content[_ngcontent-%COMP%]   .chat-header-user[_ngcontent-%COMP%]   .chat-header-user-info[_ngcontent-%COMP%]   .chat-header-dados[_ngcontent-%COMP%]   .chat-header-telefone[_ngcontent-%COMP%]{margin:0;font-size:.875rem;opacity:.9;line-height:1.3}.chat-header[_ngcontent-%COMP%]   .chat-header-content[_ngcontent-%COMP%]   .chat-header-assunto[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;background:#fff3;padding:.25rem .75rem;border-radius:8px;font-size:.875rem;margin-left:auto}.chat-header[_ngcontent-%COMP%]   .chat-header-content[_ngcontent-%COMP%]   .chat-header-assunto[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:1rem}.chat-header[_ngcontent-%COMP%]   .chat-header-content[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#e74c3c;color:#fff;border-radius:50%;width:24px;height:24px;display:flex;align-items:center;justify-content:center;font-size:.75rem;font-weight:700}.chat-header[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.875rem;opacity:.9}.chat-header[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.chat-messages[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1rem;display:flex;flex-direction:column;gap:.25rem;background:#efeae2;background-image:linear-gradient(180deg,#efeae266 0% 100%),url("data:image/svg+xml,%3Csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cpattern id='a' patternUnits='userSpaceOnUse' width='100' height='100' patternTransform='scale(0.5) rotate(0)'%3E%3Crect x='0' y='0' width='100' height='100' fill='hsla(0,0%25,100%25,1)'/%3E%3Cpath d='M11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14zm48 0a7 7 0 1 1 0-14 7 7 0 0 1 0 14zm-24-8a7 7 0 1 1 0-14 7 7 0 0 1 0 14z' stroke-width='1' stroke='hsla(259,0%25,56%25,1)' fill='none'/%3E%3C/pattern%3E%3C/defs%3E%3Crect fill='url(%23a)' height='100' width='100'/%3E%3C/svg%3E");background-size:100% 100%,100px 100px;background-attachment:fixed}.chat-messages[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%], .chat-messages[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;padding:3rem;color:#999;text-align:center}.chat-messages[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%], .chat-messages[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:48px;opacity:.5}.message[_ngcontent-%COMP%]{display:flex;margin-bottom:.5rem;animation:_ngcontent-%COMP%_fadeIn .3s ease-in;width:100%}.message.message-usuario[_ngcontent-%COMP%]{justify-content:flex-start!important;align-items:flex-start!important;width:100%!important}.message.message-usuario[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{align-items:flex-start!important;max-width:65%!important;min-width:0}.message.message-usuario[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-sender-name[_ngcontent-%COMP%]{color:#0009!important;text-align:left!important;font-size:.75rem!important;font-weight:600!important;margin-bottom:4px!important;padding-left:8px!important;display:block!important;visibility:visible!important;opacity:1!important}.message.message-usuario[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]{background:#e5ddd5!important;color:#111b21!important;border-radius:7.5px 7.5px 7.5px 0!important;box-shadow:0 1px .5px #00000021!important;position:relative}.message.message-usuario[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-8px;bottom:0;width:0;height:0;border-right:8px solid #e5ddd5;border-top:8px solid transparent;border-bottom:8px solid transparent}.message.message-admin[_ngcontent-%COMP%]{justify-content:flex-end!important;align-items:flex-end!important;width:100%!important}.message.message-admin[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{align-items:flex-end!important;max-width:65%!important;min-width:0}.message.message-admin[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-sender-name[_ngcontent-%COMP%]{color:#0009!important;text-align:right!important;font-size:.75rem!important;font-weight:600!important;margin-bottom:4px!important;padding-right:8px!important;display:block!important;visibility:visible!important;opacity:1!important}.message.message-admin[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]{background:#056162d9!important;color:#fff!important;border-radius:7.5px 0 7.5px 7.5px!important;box-shadow:0 1px .5px #00000021!important;position:relative}.message.message-admin[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]:before{content:"";position:absolute;right:-8px;bottom:0;width:0;height:0;border-left:8px solid rgba(5,97,98,.85);border-top:8px solid transparent;border-bottom:8px solid transparent}.message.message-unread[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]{border-left:3px solid #f39c12}.message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{word-wrap:break-word;word-break:break-word;display:flex;flex-direction:column;gap:0}.message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-sender-name[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;padding:0 .25rem;margin-bottom:4px;display:block!important;visibility:visible!important;opacity:1!important;color:#0009!important}.message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;padding:6px 7px 8px 9px;position:relative;word-wrap:break-word;word-break:break-word}.message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{line-height:1.5;word-wrap:break-word;margin:0}.message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .message-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:4px;margin-top:2px;margin-left:auto}.message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .message-footer[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{font-size:11px;opacity:.6;color:inherit;white-space:nowrap;margin-left:4px}.message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .message-footer[_ngcontent-%COMP%]   .btn-mark-read[_ngcontent-%COMP%]{background:none;border:none;color:#27ae60;cursor:pointer;padding:0;display:flex;align-items:center;margin-left:auto}.message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .message-footer[_ngcontent-%COMP%]   .btn-mark-read[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px}.message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .message-footer[_ngcontent-%COMP%]   .btn-mark-read[_ngcontent-%COMP%]:hover{opacity:.8}.chat-input[_ngcontent-%COMP%]{display:flex;gap:.5rem;padding:1rem;background:#fff;border-top:1px solid #ecf0f1}.chat-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:.5rem 1rem;border:1px solid #ecf0f1;border-radius:8px;font-size:1rem;outline:none;transition:all .3s ease}.chat-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#3498db;box-shadow:0 0 0 2px #3498db33}.chat-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background:#ecf0f1;cursor:not-allowed}.chat-input[_ngcontent-%COMP%]   .btn-send[_ngcontent-%COMP%]{background:#3498db;color:#fff;border:none;border-radius:8px;padding:.5rem 1rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.chat-input[_ngcontent-%COMP%]   .btn-send[_ngcontent-%COMP%]:hover:not(:disabled){background:#2980b9}.chat-input[_ngcontent-%COMP%]   .btn-send[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.chat-input[_ngcontent-%COMP%]   .btn-send[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#999;border-radius:3px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#666}`]})};var Ae=(i,t)=>t.usuarioId;function Te(i,t){i&1&&(_(0,"div",3)(1,"span",5),s(2,"hourglass_top"),h(),_(3,"p"),s(4,"Carregando conversas..."),h()())}function De(i,t){i&1&&(_(0,"div",4)(1,"span",5),s(2,"chat_bubble_outline"),h(),_(3,"p"),s(4,"Nenhuma conversa ainda"),h()())}function Ne(i,t){if(i&1&&H(0,"span",21),i&2){let e=m().$implicit;q("aria-label",j("",e.naoLidas," nova(s) mensagem(ns)")),Y("title",j("",e.naoLidas," nova(s) mensagem(ns)"))}}function ze(i,t){if(i&1&&(_(0,"span",14),s(1),h()),i&2){let e=m().$implicit,n=m(2);r(),v(n.formatDate(e.ultimaMensagem.created_At))}}function Re(i,t){if(i&1&&(_(0,"p",16),s(1),h()),i&2){let e=m().$implicit;r(),v(e.assunto)}}function Le(i,t){if(i&1&&(_(0,"p",17),s(1),h()),i&2){let e=m().$implicit,n=m(2);r(),v(n.getPreviewText((e.ultimaMensagem==null?null:e.ultimaMensagem.conteudo)||""))}}function We(i,t){if(i&1&&(_(0,"p",19),s(1),h()),i&2){let e=m().$implicit;r(),v(e.usuarioEmail)}}function Fe(i,t){if(i&1&&(_(0,"p",20),s(1),h()),i&2){let e=m().$implicit;r(),v(e.usuarioTelefone)}}function Ve(i,t){if(i&1){let e=w();_(0,"div",7),G("click",function(){let o=P(e).$implicit,a=m(2);return x(a.selectConversa(o.usuarioId))}),_(1,"div",8)(2,"span",5),s(3,"account_circle"),h()(),_(4,"div",9)(5,"div",10)(6,"div",11)(7,"h3",12),s(8),h(),p(9,Ne,1,4,"span",13),h(),p(10,ze,2,1,"span",14),h(),_(11,"div",15),p(12,Re,2,1,"p",16)(13,Le,2,1,"p",17),h(),_(14,"div",18),p(15,We,2,1,"p",19),p(16,Fe,2,1,"p",20),h()()()}if(i&2){let e=t.$implicit,n=m(2);N("active",n.selectedUsuarioId===e.usuarioId),r(8),v(e.usuarioNome),r(),f(e.naoLidas>0?9:-1),r(),f(e.ultimaMensagem?10:-1),r(2),f(e.assunto?12:13),r(3),f(e.usuarioEmail?15:-1),r(),f(e.usuarioTelefone?16:-1)}}function je(i,t){if(i&1&&T(0,Ve,17,8,"div",6,Ae),i&2){let e=m();D(e.conversas())}}var F=class i{constructor(t,e,n,o){this.chatService=t;this.usuarioService=e;this.signalRService=n;this.authService=o;let a=this.authService.getCurrentUser();a&&(this.isAdminUser=a.role==="Admin",this.currentUserId=a.userId)}selectedUsuarioId;conversaSelected=new Q;conversas=u([]);loading=u(!1);subscriptions=new $;unsubscribeMessage;isAdminUser=!1;currentUserId;async ngOnInit(){await this.loadConversas();try{this.signalRService.isConnected()?console.log("SignalR j\xE1 estava conectado"):(console.log("Iniciando conex\xE3o SignalR para lista de conversas..."),await this.signalRService.startConnection(),console.log("SignalR conectado para lista de conversas")),this.unsubscribeMessage=this.signalRService.onNewMessage(t=>{t.remetente_Tipo===1&&(console.log("Nova mensagem de usu\xE1rio recebida via SignalR, atualizando lista de conversas...",t),this.loadConversas())}),console.log("Lista de conversas inicializada e escutando SignalR")}catch(t){console.warn("Erro ao conectar SignalR na lista de conversas:",t)}setInterval(()=>{console.log("Atualizando lista de conversas periodicamente..."),this.loadConversas()},3e4)}ngOnDestroy(){this.subscriptions.unsubscribe(),this.unsubscribeMessage&&this.unsubscribeMessage()}async loadConversas(){try{this.loading.set(!0);let t=await O(this.chatService.getAll());if(!t){this.conversas.set([]);return}let e=new Map,n=new Set;for(let l of t){e.has(l.usuario_Id)||(n.add(l.usuario_Id),e.set(l.usuario_Id,{usuarioId:l.usuario_Id,usuarioEmail:l.usuario_Email||"",usuarioTelefone:void 0,usuarioNome:l.usuario_Email?.split("@")[0]||"Usu\xE1rio",naoLidas:0,mensagens:[]}));let C=e.get(l.usuario_Id);C.mensagens.push(l),(!C.ultimaMensagem||new Date(l.created_At)>new Date(C.ultimaMensagem.created_At))&&(C.ultimaMensagem=l,l.remetente_Tipo===1&&(C.assunto=this.extractAssunto(l.conteudo))),l.remetente_Tipo===1&&!l.lida&&C.naoLidas++}let o=Array.from(n).map(async l=>{try{let C=await O(this.usuarioService.getById(l)),k=e.get(l);if(k&&C){let ue=k.ultimaMensagem?this.extractNameFromMessage(k.ultimaMensagem.conteudo):void 0;k.usuarioNome=this.capitalizeFirst(ue||C.email?.split("@")[0]||"Usu\xE1rio"),k.usuarioTelefone=C.telefone}}catch(C){console.warn(`Erro ao buscar dados do usu\xE1rio ${l}:`,C)}});await Promise.all(o);let a=Array.from(e.values()).sort((l,C)=>l.ultimaMensagem?C.ultimaMensagem?new Date(C.ultimaMensagem.created_At).getTime()-new Date(l.ultimaMensagem.created_At).getTime():-1:1),g=!this.isAdminUser&&this.currentUserId?a.filter(l=>l.usuarioId===this.currentUserId):a;this.conversas.set(g)}catch(t){console.error("Erro ao carregar conversas:",t),this.conversas.set([])}finally{this.loading.set(!1)}}selectConversa(t){if(!this.isAdminUser){if(this.currentUserId&&t!==this.currentUserId){console.warn("Usu\xE1rio tentou acessar conversa de outro cliente. A\xE7\xE3o bloqueada.");return}this.conversaSelected.emit(t);return}this.conversaSelected.emit(t),this.markConversasComoLidas(t).catch(e=>console.error("Erro ao marcar mensagens como lidas:",e))}formatDate(t){let e=new Date(t),o=new Date().getTime()-e.getTime(),a=Math.floor(o/6e4),g=Math.floor(a/60),l=Math.floor(g/24);return a<1?"Agora":a<60?`${a}min`:g<24?`${g}h`:l===1?"Ontem":l<7?`${l}d`:e.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}getPreviewText(t){let e=t.split(`
`),n="";for(let o of e)if(!(o.startsWith("Assunto:")||o.startsWith("Contato:")||o.startsWith("E-mail:")||o.startsWith("Telefone:")||o.startsWith("---"))&&o.trim()){n=o.trim();break}return n||"Sem mensagem"}extractAssunto(t){let e=t.match(/Assunto:\s*(.+)/i);if(e)return e[1].trim()}extractNameFromMessage(t){let e=t.match(/Contato:\s*(.+)/i);if(e)return e[1].trim()}capitalizeFirst(t){return t?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():""}async markConversasComoLidas(t){if(!this.isAdminUser)return;let e=[...this.conversas()],n=e.find(a=>a.usuarioId===t);if(!n)return;let o=n.mensagens.filter(a=>a.remetente_Tipo===1&&!a.lida);if(o.length!==0)try{await Promise.all(o.map(a=>O(this.chatService.markAsRead(a.id)))),n.mensagens=n.mensagens.map(a=>a.remetente_Tipo===1?A(U({},a),{lida:!0}):a),n.naoLidas=0,this.conversas.set(e)}catch(a){console.error("Erro ao marcar mensagens como lidas:",a)}}static \u0275fac=function(e){return new(e||i)(M(R),M(z),M(L),M(I))};static \u0275cmp=b({type:i,selectors:[["app-conversas-list"]],inputs:{selectedUsuarioId:"selectedUsuarioId"},outputs:{conversaSelected:"conversaSelected"},decls:8,vars:1,consts:[[1,"conversas-list"],[1,"conversas-header"],[1,"conversas-content"],[1,"loading-state"],[1,"empty-state"],[1,"material-icons"],[1,"conversa-item",3,"active"],[1,"conversa-item",3,"click"],[1,"conversa-avatar"],[1,"conversa-info"],[1,"conversa-header-row"],[1,"conversa-nome-wrapper"],[1,"conversa-nome"],[1,"unread-dot",3,"title","aria-label"],[1,"conversa-time"],[1,"conversa-preview-row"],[1,"conversa-assunto"],[1,"conversa-preview"],[1,"conversa-dados"],[1,"conversa-email"],[1,"conversa-telefone"],[1,"unread-dot",3,"title"]],template:function(e,n){e&1&&(_(0,"div",0)(1,"div",1)(2,"h2"),s(3,"Conversas"),h()(),_(4,"div",2),p(5,Te,5,0,"div",3)(6,De,5,0,"div",4)(7,je,2,0),h()()),e&2&&(r(5),f(n.loading()?5:n.conversas().length===0?6:7))},dependencies:[E],styles:[".conversas-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background:#fff;border-right:1px solid #e0e0e0;overflow:hidden}.conversas-list[_ngcontent-%COMP%]   .conversas-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid #ecf0f1;background:#2c3e50;color:#fff}.conversas-list[_ngcontent-%COMP%]   .conversas-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#fff}.conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%], .conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1rem;color:#999;text-align:center}.conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%], .conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;opacity:.5}.conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem}.conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]   .conversa-item[_ngcontent-%COMP%]{display:flex;padding:1rem 1.5rem;cursor:pointer;border-bottom:1px solid #ecf0f1;transition:all .2s ease}.conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]   .conversa-item[_ngcontent-%COMP%]:hover{background-color:#ecf0f1}.conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]   .conversa-item.active[_ngcontent-%COMP%]{background-color:#ecf0f1;border-left:3px solid #3498db}.conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]   .conversa-item[_ngcontent-%COMP%]   .conversa-avatar[_ngcontent-%COMP%]{margin-right:1rem;flex-shrink:0}.conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]   .conversa-item[_ngcontent-%COMP%]   .conversa-avatar[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:3rem;color:#999}.conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]   .conversa-item[_ngcontent-%COMP%]   .conversa-info[_ngcontent-%COMP%]{flex:1;min-width:0}.conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]   .conversa-item[_ngcontent-%COMP%]   .conversa-info[_ngcontent-%COMP%]   .conversa-header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.25rem}.conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]   .conversa-item[_ngcontent-%COMP%]   .conversa-info[_ngcontent-%COMP%]   .conversa-header-row[_ngcontent-%COMP%]   .conversa-nome-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem}.conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]   .conversa-item[_ngcontent-%COMP%]   .conversa-info[_ngcontent-%COMP%]   .conversa-header-row[_ngcontent-%COMP%]   .conversa-nome[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:600;color:#333;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]   .conversa-item[_ngcontent-%COMP%]   .conversa-info[_ngcontent-%COMP%]   .conversa-header-row[_ngcontent-%COMP%]   .unread-dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background:#e74c3c;box-shadow:0 0 10px #e74c3c99;animation:_ngcontent-%COMP%_pulse 1.5s infinite ease-in-out}.conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]   .conversa-item[_ngcontent-%COMP%]   .conversa-info[_ngcontent-%COMP%]   .conversa-header-row[_ngcontent-%COMP%]   .conversa-time[_ngcontent-%COMP%]{font-size:.75rem;color:#999;flex-shrink:0;margin-left:.5rem}.conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]   .conversa-item[_ngcontent-%COMP%]   .conversa-info[_ngcontent-%COMP%]   .conversa-preview-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.25rem}.conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]   .conversa-item[_ngcontent-%COMP%]   .conversa-info[_ngcontent-%COMP%]   .conversa-preview-row[_ngcontent-%COMP%]   .conversa-assunto[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;color:#3498db;margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]   .conversa-item[_ngcontent-%COMP%]   .conversa-info[_ngcontent-%COMP%]   .conversa-preview-row[_ngcontent-%COMP%]   .conversa-preview[_ngcontent-%COMP%]{font-size:.85rem;color:#666;margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]   .conversa-item[_ngcontent-%COMP%]   .conversa-info[_ngcontent-%COMP%]   .conversa-dados[_ngcontent-%COMP%]{margin-top:.25rem;display:flex;flex-direction:column;gap:.125rem}.conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]   .conversa-item[_ngcontent-%COMP%]   .conversa-info[_ngcontent-%COMP%]   .conversa-dados[_ngcontent-%COMP%]   .conversa-email[_ngcontent-%COMP%]{font-size:.75rem;color:#666;margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]   .conversa-item[_ngcontent-%COMP%]   .conversa-info[_ngcontent-%COMP%]   .conversa-dados[_ngcontent-%COMP%]   .conversa-telefone[_ngcontent-%COMP%]{font-size:.75rem;color:#999;margin:0}.conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ecf0f1}.conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#999;border-radius:3px}.conversas-list[_ngcontent-%COMP%]   .conversas-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#666}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(.95);opacity:.7}50%{transform:scale(1.15);opacity:1}to{transform:scale(.95);opacity:.7}}"]})};function $e(i,t){if(i&1){let e=w();d(0,"div",2)(1,"div",3)(2,"app-conversas-list",4),y("conversaSelected",function(o){P(e);let a=m();return x(a.onConversaSelected(o))}),c()(),d(3,"div",5),V(4,"app-chat-window",6),c()()}if(i&2){let e=m();r(2),S("selectedUsuarioId",e.selectedUsuarioId()),r(2),S("usuarioId",e.selectedUsuarioId())("assunto",e.assunto())}}function Be(i,t){i&1&&V(0,"app-chat-window")}var ge=class i{constructor(t){this.authService=t}selectedUsuarioId=u(void 0);assunto=u(void 0);get isAdmin(){return this.authService.isAdmin()}onConversaSelected(t){this.selectedUsuarioId.set(t)}static \u0275fac=function(e){return new(e||i)(M(I))};static \u0275cmp=b({type:i,selectors:[["app-chat"]],decls:4,vars:1,consts:[[1,"chat-page"],[1,"chat-container"],[1,"chat-layout"],[1,"conversas-sidebar"],[3,"conversaSelected","selectedUsuarioId"],[1,"chat-main"],[3,"usuarioId","assunto"]],template:function(e,n){e&1&&(d(0,"div",0)(1,"div",1),p(2,$e,5,3,"div",2)(3,Be,1,0,"app-chat-window"),c()()),e&2&&(r(2),f(n.isAdmin?2:3))},dependencies:[E,W,F],styles:[".chat-page[_ngcontent-%COMP%]{min-height:calc(100vh - 80px);padding:0;background:var(--bg-secondary, #f8f9fa)}.chat-container[_ngcontent-%COMP%]{height:calc(100vh - 80px);max-width:100%;margin:0}.chat-layout[_ngcontent-%COMP%]{display:flex;height:100%;max-width:1400px;margin:0 auto;background:#fff;box-shadow:0 0 10px #0000001a}.conversas-sidebar[_ngcontent-%COMP%]{width:350px;min-width:300px;flex-shrink:0;height:100%;overflow:hidden}.chat-main[_ngcontent-%COMP%]{flex:1;height:100%;min-width:0}@media (max-width: 768px){.chat-page[_ngcontent-%COMP%]{padding:0}.chat-container[_ngcontent-%COMP%]{height:calc(100vh - 80px)}.chat-layout[_ngcontent-%COMP%]{max-width:100%}.conversas-sidebar[_ngcontent-%COMP%]{width:35%;min-width:120px;flex-shrink:0}.chat-main[_ngcontent-%COMP%]{flex:1;min-width:0}}"]})};export{ge as Chat};
