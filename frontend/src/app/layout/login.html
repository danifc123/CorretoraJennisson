<div class="login-container">
  <!-- Lado Esquerdo - Imagem/Branding -->
  <div class="login-left">
    <div class="branding">
      <img src="/images/Logo-login.svg"
           alt="Jenisson Luckwü Imóveis"
           class="logo" />

      <div class="features">
        <div class="feature-item">
          <span class="material-icons">favorite</span>
          <p>Salve seus imóveis favoritos</p>
        </div>
        <div class="feature-item">
          <span class="material-icons">notifications</span>
          <p>Receba notificações de novidades</p>
        </div>
        <div class="feature-item">
          <span class="material-icons">chat</span>
          <p>Fale diretamente com o corretor</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Lado Direito - Formulário -->
  <div class="login-right">
    <div class="login-form-wrapper">
      <!-- Header -->
      <div class="form-header">
        <h2>Área do Cliente</h2>
        <p>Entre com suas credenciais para acessar sua conta</p>
      </div>

      <!-- Mensagem de Erro -->
      @if (errorMessage()) {
      <div class="alert alert-error"
           role="alert">
        <span class="material-icons">error</span>
        <p>{{ errorMessage() }}</p>
      </div>
      }

      <!-- Formulário -->
      <form class="login-form"
            (ngSubmit)="onSubmit()">
        <!-- Campo E-mail -->
        <div class="form-group">
          <label for="email">
            <span class="material-icons">email</span>
            E-mail
          </label>
          <input type="email"
                 id="email"
                 name="email"
                 [(ngModel)]="email"
                 placeholder="seu@email.com"
                 [disabled]="loading()"
                 autocomplete="email"
                 required />
        </div>

        <!-- Campo Senha -->
        <div class="form-group">
          <label for="password">
            <span class="material-icons">lock</span>
            Senha
          </label>
          <div class="password-wrapper">
            <input [type]="showPassword() ? 'text' : 'password'"
                   id="password"
                   name="password"
                   [(ngModel)]="password"
                   placeholder="••••••••"
                   [disabled]="loading()"
                   autocomplete="current-password"
                   required />
            <button type="button"
                    class="toggle-password"
                    (click)="togglePasswordVisibility()"
                    [attr.aria-label]="showPassword() ? 'Ocultar senha' : 'Mostrar senha'"
                    [title]="showPassword() ? 'Ocultar senha' : 'Mostrar senha'">
              <span class="material-icons">
                {{ showPassword() ? 'visibility_off' : 'visibility' }}
              </span>
            </button>
          </div>
        </div>

        <!-- Opções -->
        <div class="form-options">
          <label class="checkbox-label">
            <input type="checkbox"
                   [(ngModel)]="rememberMe"
                   name="rememberMe"
                   [disabled]="loading()" />
            <span>Lembrar-me</span>
          </label>
          <a routerLink="/forgot-password"
             class="forgot-password">Esqueci a senha</a>
        </div>

        <!-- Botão de Submit -->
        <button type="submit"
                class="btn-login"
                [disabled]="loading()"
                [class.loading]="loading()">
          @if (loading()) {
          <span class="spinner"></span>
          <span>Entrando...</span>
          } @else {
          <span class="material-icons">login</span>
          <span>Entrar</span>
          }
        </button>
      </form>

      <!-- Footer -->
      <div class="form-footer">
        <p class="register-link">
          Ainda não tem uma conta?
          <a routerLink="/register" class="link-primary">Criar conta</a>
        </p>
        <p>
          <a routerLink="/"
             class="back-link">
            <span class="material-icons">arrow_back</span>
            Voltar para o site
          </a>
        </p>
      </div>
    </div>
  </div>
</div>
