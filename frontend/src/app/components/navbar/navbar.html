<nav class="navbar">
  <div class="navbar-container">
    <!-- Logo -->
    <div class="navbar-brand">
      <a routerLink="/"
         class="logo">
        <img src="/images/logo-menor.svg"
             alt="Logo Jennisson Realty"
             class="logo-img">
      </a>
    </div>

    <!-- Menu Desktop -->
    <div class="navbar-menu"
         [class.active]="menuOpen()">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a routerLink="/"
             class="nav-link"
             routerLinkActive="active"
             [routerLinkActiveOptions]="{exact: true}">
            HOME
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="/sobre"
             class="nav-link"
             routerLinkActive="active">
            SOBRE
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="/imoveis"
             class="nav-link"
             routerLinkActive="active">
            IMÓVEIS
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="/contato"
             class="nav-link"
             routerLinkActive="active">
            CONTATO
          </a>
        </li>
      </ul>

      <!-- Botões de ação -->
      <div class="navbar-actions">
        <!-- Botão Adicionar Imóvel (somente para administradores) -->
        <ng-container *ngIf="isAdmin()">
          <a routerLink="/admin/imoveis"
             class="btn btn-primary"
             routerLinkActive="active"
             title="Adicionar Imóvel"
             aria-label="Adicionar novo imóvel">
            <span class="material-icons">add</span>
            <span class="btn-text">Adicionar Imóvel</span>
          </a>
        </ng-container>

        <!-- Identificador Admin, Botão Favoritos ou Botão Entrar -->
        <ng-container *ngIf="isAdmin()">
          <div class="admin-badge"
               title="Você está logado como administrador"
               aria-label="Status de administrador">
            <span class="material-icons">admin_panel_settings</span>
            <span class="admin-text">ADMIN</span>
          </div>
        </ng-container>

        <ng-container *ngIf="!isAdmin() && isLoggedIn(); else loginButton">
          <a routerLink="/favoritos"
             class="btn btn-favorites"
             routerLinkActive="active"
             title="Meus Favoritos"
             aria-label="Ver meus imóveis favoritos">
            <span class="material-icons">favorite</span>
            <span class="btn-text">Favoritos</span>
          </a>
        </ng-container>

        <ng-template #loginButton>
          <button class="btn btn-outline"
                  *ngIf="!isAdmin() && !isLoggedIn()"
                  (click)="onLogin()">
            <svg xmlns="http://www.w3.org/2000/svg"
                 width="18"
                 height="18"
                 viewBox="0 0 24 24"
                 fill="none"
                 stroke="currentColor"
                 stroke-width="2"
                 stroke-linecap="round"
                 stroke-linejoin="round">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
              <circle cx="12"
                      cy="7"
                      r="4"></circle>
            </svg>
            ENTRAR
          </button>
        </ng-template>
      </div>
    </div>

    <!-- Menu Hamburguer Mobile -->
    <button class="navbar-toggler"
            (click)="toggleMenu()"
            [class.active]="menuOpen()"
            [attr.aria-label]="menuOpen() ? 'Fechar menu' : 'Abrir menu'"
            [attr.aria-expanded]="menuOpen()"
            title="Menu de navegação">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="sr-only">{{ menuOpen() ? 'Fechar menu' : 'Abrir menu' }}</span>
    </button>
  </div>
</nav>
